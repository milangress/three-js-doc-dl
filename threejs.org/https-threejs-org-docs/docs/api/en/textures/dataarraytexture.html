<div id="readability-page-1" class="page"><div>
		<meta charset="utf-8">
		<base href="../../../">
		
		
	
	
		<p><a data-fragment="Texture" title="Texture" href="https://threejs.org/docs/index.html#api/en/textures/Texture">Texture</a> â†’

		</p>

		<p>
			Creates an array of textures directly from raw data, width and height and
			depth.
		</p>

		<h2>Constructor</h2>

		<h3>DataArrayTexture( data, width, height, depth )</h3>
		<p>
			The data argument must be an
			<a href="https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView" target="_blank">ArrayBufferView</a>. 
			The properties inherited from <a data-fragment="Texture" title="Texture" href="https://threejs.org/docs/index.html#api/en/textures/Texture">Texture</a> are the
			default, except magFilter and minFilter default to THREE.NearestFilter.
			The properties flipY and generateMipmaps are initially set to false.
		</p>
		<p>
			The interpretation of the data depends on type and format: If the type is
			THREE.UnsignedByteType, a Uint8Array will be useful for addressing the
			texel data. If the format is THREE.RGBAFormat, data needs four values for
			one texel; Red, Green, Blue and Alpha (typically the opacity).<br>

			For the packed types, THREE.UnsignedShort4444Type and
			THREE.UnsignedShort5551Type all color components of one texel can be
			addressed as bitfields within an integer element of a Uint16Array.<br>

			In order to use the types THREE.FloatType and THREE.HalfFloatType, the
			WebGL implementation must support the respective extensions
			OES_texture_float and OES_texture_half_float. In order to use
			THREE.LinearFilter for component-wise, bilinear interpolation of the
			texels based on these types, the WebGL extensions OES_texture_float_linear
			or OES_texture_half_float_linear must also be present.
		</p>

		<h2>Code Example</h2>

		<p>This creates a DataArrayTexture where each texture has a different color.</p>

		<p><code translate="no"><span>// create a buffer with color data</span><span>
</span><span>const</span><span> width </span><span>=</span><span> </span><span>512</span><span>;</span><span>
</span><span>const</span><span> height </span><span>=</span><span> </span><span>512</span><span>;</span><span>
</span><span>const</span><span> depth </span><span>=</span><span> </span><span>100</span><span>;</span><span>

</span><span>const</span><span> size </span><span>=</span><span> width </span><span>*</span><span> height</span><span>;</span><span>
</span><span>const</span><span> data </span><span>=</span><span> </span><span>new</span><span> </span><span>Uint8Array</span><span>(</span><span> </span><span>4</span><span> </span><span>*</span><span> size </span><span>*</span><span> depth </span><span>);</span><span>

</span><span>for</span><span> </span><span>(</span><span> let i </span><span>=</span><span> </span><span>0</span><span>;</span><span> i </span><span>&lt;</span><span> depth</span><span>;</span><span> i </span><span>++</span><span> </span><span>)</span><span> </span><span>{</span><span>
	</span><span>const</span><span> color </span><span>=</span><span> </span><span>new</span><span> THREE</span><span>.</span><span>Color</span><span>(</span><span> </span><span>Math</span><span>.</span><span>random</span><span>(),</span><span> </span><span>Math</span><span>.</span><span>random</span><span>(),</span><span> </span><span>Math</span><span>.</span><span>random</span><span>()</span><span> </span><span>);</span><span>
	</span><span>const</span><span> r </span><span>=</span><span> </span><span>Math</span><span>.</span><span>floor</span><span>(</span><span> color</span><span>.</span><span>r </span><span>*</span><span> </span><span>255</span><span> </span><span>);</span><span>
	</span><span>const</span><span> g </span><span>=</span><span> </span><span>Math</span><span>.</span><span>floor</span><span>(</span><span> color</span><span>.</span><span>g </span><span>*</span><span> </span><span>255</span><span> </span><span>);</span><span>
	</span><span>const</span><span> b </span><span>=</span><span> </span><span>Math</span><span>.</span><span>floor</span><span>(</span><span> color</span><span>.</span><span>b </span><span>*</span><span> </span><span>255</span><span> </span><span>);</span><span>

	</span><span>for</span><span> </span><span>(</span><span> let j </span><span>=</span><span> </span><span>0</span><span>;</span><span> j </span><span>&lt;</span><span> size</span><span>;</span><span> j </span><span>++</span><span> </span><span>)</span><span> </span><span>{</span><span>
		</span><span>const</span><span> stride </span><span>=</span><span> </span><span>(</span><span> i </span><span>*</span><span> size </span><span>+</span><span> j </span><span>)</span><span> </span><span>*</span><span> </span><span>4</span><span>;</span><span>
		data</span><span>[</span><span> stride </span><span>]</span><span> </span><span>=</span><span> r</span><span>;</span><span>
		data</span><span>[</span><span> stride </span><span>+</span><span> </span><span>1</span><span> </span><span>]</span><span> </span><span>=</span><span> g</span><span>;</span><span>
		data</span><span>[</span><span> stride </span><span>+</span><span> </span><span>2</span><span> </span><span>]</span><span> </span><span>=</span><span> b</span><span>;</span><span>
		data</span><span>[</span><span> stride </span><span>+</span><span> </span><span>3</span><span> </span><span>]</span><span> </span><span>=</span><span> </span><span>255</span><span>;</span><span>
	</span><span>}</span><span>
</span><span>}</span><span>

</span><span>// used the buffer to create a DataArrayTexture</span><span>
</span><span>const</span><span> texture </span><span>=</span><span> </span><span>new</span><span> THREE</span><span>.</span><span>DataArrayTexture</span><span>(</span><span> data</span><span>,</span><span> width</span><span>,</span><span> height</span><span>,</span><span> depth </span><span>);</span><span>
texture</span><span>.</span><span>needsUpdate </span><span>=</span><span> </span><span>true</span><span>;</span></code></p><h2>Examples</h2>

		<p>
			<a href="https://threejs.org/examples/#webgl_texture2darray" target="_blank">WebGL / texture2darray</a><br>
			<a href="https://threejs.org/examples/#webgl_rendertarget_texture2darray" target="_blank">WebGL / rendertarget / texture2darray</a>
		</p>

		<h2>Properties</h2>

		<p>See the base <a data-fragment="Texture" title="Texture" href="https://threejs.org/docs/index.html#api/en/textures/Texture">Texture</a> class for common properties.</p>

		<h3><a data-fragment="DataArrayTexture.flipY" target="_parent" title="DataArrayTexture.flipY" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.flipY">#</a> .<a data-fragment="DataArrayTexture.flipY" id="flipY" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.flipY">flipY</a>  : <span>Boolean</span></h3>
		<p>
			Whether the texture is flipped along the Y axis when uploaded to the GPU.
			Default is <code translate="no"><span>false</span></code>.
		</p>

		<h3><a data-fragment="DataArrayTexture.generateMipmaps" target="_parent" title="DataArrayTexture.generateMipmaps" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.generateMipmaps">#</a> .<a data-fragment="DataArrayTexture.generateMipmaps" id="generateMipmaps" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.generateMipmaps">generateMipmaps</a>  : <span>Boolean</span></h3>
		<p>
			Whether to generate mipmaps (if possible) for the texture. Default is
			<code translate="no"><span>false</span></code>.
		</p>

		<h3><a data-fragment="DataArrayTexture.image" target="_parent" title="DataArrayTexture.image" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.image">#</a> .<a data-fragment="DataArrayTexture.image" id="image" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.image">image</a>  : <span>Object</span></h3>
		<p>Overridden with a object holding data, width, height, and depth.</p>

		<h3><a data-fragment="DataArrayTexture.isDataArrayTexture" target="_parent" title="DataArrayTexture.isDataArrayTexture" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.isDataArrayTexture">#</a> .<a data-fragment="DataArrayTexture.isDataArrayTexture" id="isDataArrayTexture" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.isDataArrayTexture">isDataArrayTexture</a>  : <span>Boolean</span></h3>
		<p>Read-only flag to check if a given object is of type DataArrayTexture.</p>

		<h3><a data-fragment="DataArrayTexture.magFilter" target="_parent" title="DataArrayTexture.magFilter" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.magFilter">#</a> .<a data-fragment="DataArrayTexture.magFilter" id="magFilter" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.magFilter">magFilter</a>  : <span>number</span></h3>
		<div><p>
			How the texture is sampled when a texel covers more than one pixel. The
			default is <a data-fragment="Textures" title="Textures" href="https://threejs.org/docs/index.html#api/en/constants/Textures">THREE.NearestFilter</a>, which uses the value of
			the closest texel.</p><p>

			See the <a data-fragment="Textures" title="Textures" href="https://threejs.org/docs/index.html#api/en/constants/Textures">texture constants</a> page for details.
		</p></div>

		<h3><a data-fragment="DataArrayTexture.minFilter" target="_parent" title="DataArrayTexture.minFilter" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.minFilter">#</a> .<a data-fragment="DataArrayTexture.minFilter" id="minFilter" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.minFilter">minFilter</a>  : <span>number</span></h3>
		<div><p>
			How the texture is sampled when a texel covers less than one pixel. The
			default is <a data-fragment="Textures" title="Textures" href="https://threejs.org/docs/index.html#api/en/constants/Textures">THREE.NearestFilter</a>, which uses the value of
			the closest texel.</p><p>

			See the <a data-fragment="Textures" title="Textures" href="https://threejs.org/docs/index.html#api/en/constants/Textures">texture constants</a> page for details.
		</p></div>

		<h3><a data-fragment="DataArrayTexture.unpackAlignment" target="_parent" title="DataArrayTexture.unpackAlignment" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.unpackAlignment">#</a> .<a data-fragment="DataArrayTexture.unpackAlignment" id="unpackAlignment" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.unpackAlignment">unpackAlignment</a>  : <span>number</span></h3>
		<p>
			<code translate="no"><span>1</span></code> by default. Specifies the alignment requirements for the start of each
			pixel row in memory. The allowable values are 1 (byte-alignment), 2 (rows
			aligned to even-numbered bytes), 4 (word-alignment), and 8 (rows start on
			double-word boundaries). See
			<a href="https://registry.khronos.org/OpenGL-Refpages/es3.0/html/glPixelStorei.xhtml" target="_blank">glPixelStorei</a> for more information.
		</p>

		<h3><a data-fragment="DataArrayTexture.wrapR" target="_parent" title="DataArrayTexture.wrapR" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.wrapR">#</a> .<a data-fragment="DataArrayTexture.wrapR" id="wrapR" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.wrapR">wrapR</a>  : <span>number</span></h3>
		<p>
			This defines how the texture is wrapped in the depth direction.<br>
			The default is <a data-fragment="Textures" title="Textures" href="https://threejs.org/docs/index.html#api/en/constants/Textures">THREE.ClampToEdgeWrapping</a>, where the edge
			is clamped to the outer edge texels. The other two choices are
			<a data-fragment="Textures" title="Textures" href="https://threejs.org/docs/index.html#api/en/constants/Textures">THREE.RepeatWrapping</a> and <a data-fragment="Textures" title="Textures" href="https://threejs.org/docs/index.html#api/en/constants/Textures">THREE.MirroredRepeatWrapping</a>. 
			See the <a data-fragment="Textures" title="Textures" href="https://threejs.org/docs/index.html#api/en/constants/Textures">texture constants</a>
			page for details.
		</p>

		<h3><a data-fragment="DataArrayTexture.layerUpdates" target="_parent" title="DataArrayTexture.layerUpdates" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.layerUpdates">#</a> .<a data-fragment="DataArrayTexture.layerUpdates" id="layerUpdates" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.layerUpdates">layerUpdates</a>  : <a data-fragment="Set">Set</a></h3>
		<p>
			A set of all layers which need to be updated in the texture. See
			<a data-fragment="DataArrayTexture.addLayerUpdate" title="DataArrayTexture.addLayerUpdate" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.addLayerUpdate">addLayerUpdate</a>.
		</p>

		<h2>Methods</h2>

		<h3><a data-fragment="DataArrayTexture.addLayerUpdate" target="_parent" title="DataArrayTexture.addLayerUpdate" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.addLayerUpdate">#</a> .<a data-fragment="DataArrayTexture.addLayerUpdate" id="addLayerUpdate" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.addLayerUpdate">addLayerUpdate</a> ( layerIndex ) : <a data-fragment="addLayerUpdate">addLayerUpdate</a></h3>
		<p>
			Describes that a specific layer of the texture needs to be updated.
			Normally when <a data-fragment="Texture.needsUpdate" title="Texture.needsUpdate" href="https://threejs.org/docs/index.html#api/en/textures/Texture.needsUpdate">needsUpdate</a> is set to true, the
			entire compressed texture array is sent to the GPU. Marking specific
			layers will only transmit subsets of all mipmaps associated with a
			specific depth in the array which is often much more performant.
		</p>

		<h3><a data-fragment="DataArrayTexture.clearLayerUpdates" target="_parent" title="DataArrayTexture.clearLayerUpdates" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.clearLayerUpdates">#</a> .<a data-fragment="DataArrayTexture.clearLayerUpdates" id="clearLayerUpdates" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.clearLayerUpdates">clearLayerUpdates</a> () : <a data-fragment="clearLayerUpdates">clearLayerUpdates</a></h3>
		<p>
			Resets the layer updates registry. See
			<a data-fragment="DataArrayTexture.addLayerUpdate" title="DataArrayTexture.addLayerUpdate" href="https://threejs.org/docs/index.html#api/en/textures/DataArrayTexture.addLayerUpdate">addLayerUpdate</a>.
		</p>


		<p>See the base <a data-fragment="Texture" title="Texture" href="https://threejs.org/docs/index.html#api/en/textures/Texture">Texture</a> class for common methods.</p>

		<h2>Source</h2>

		<p>
			<a href="https://github.com/mrdoob/three.js/blob/master/src/textures/DataArrayTexture.js" target="_blank">src/textures/DataArrayTexture.js</a>
		</p>
	

<p><img src="https://threejs.org/files/ic_mode_edit_black_24dp.svg"></p></div></div>