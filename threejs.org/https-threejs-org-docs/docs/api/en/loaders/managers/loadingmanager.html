<div id="readability-page-1" class="page"><div>
		<meta charset="utf-8">
		<base href="../../../../">
		
		
	
	
		

		<div><p>
			Handles and keeps track of loaded and pending data. A default global
			instance of this class is created and used by loaders if not supplied
			manually - see <a data-fragment="DefaultLoadingManager" title="DefaultLoadingManager" href="https://threejs.org/docs/index.html#api/en/loaders/managers/DefaultLoadingManager">DefaultLoadingManager</a>.</p><p>

			In general that should be sufficient, however there are times when it can
			be useful to have separate loaders - for example if you want to show
			separate loading bars for objects and textures.
		</p></div>

		<h2>Code Example</h2>

		<p>
			This example shows how to use LoadingManager to track the progress of
			<a data-fragment="OBJLoader" title="OBJLoader" href="https://threejs.org/docs/index.html#examples/en/loaders/OBJLoader">OBJLoader</a>.
		</p>

		<p><code translate="no"><span>const</span><span> manager </span><span>=</span><span> </span><span>new</span><span> THREE</span><span>.</span><span>LoadingManager</span><span>();</span><span>
manager</span><span>.</span><span>onStart </span><span>=</span><span> </span><span>function</span><span> </span><span>(</span><span> url</span><span>,</span><span> itemsLoaded</span><span>,</span><span> itemsTotal </span><span>)</span><span> </span><span>{</span><span>
	console</span><span>.</span><span>log</span><span>(</span><span> </span><span>'Started loading file: '</span><span> </span><span>+</span><span> url </span><span>+</span><span> </span><span>'.\nLoaded '</span><span> </span><span>+</span><span> itemsLoaded </span><span>+</span><span> </span><span>' of '</span><span> </span><span>+</span><span> itemsTotal </span><span>+</span><span> </span><span>' files.'</span><span> </span><span>);</span><span>
</span><span>};</span><span>

manager</span><span>.</span><span>onLoad </span><span>=</span><span> </span><span>function</span><span> </span><span>(</span><span> </span><span>)</span><span> </span><span>{</span><span>
	console</span><span>.</span><span>log</span><span>(</span><span> </span><span>'Loading complete!'</span><span>);</span><span>
</span><span>};</span><span>

manager</span><span>.</span><span>onProgress </span><span>=</span><span> </span><span>function</span><span> </span><span>(</span><span> url</span><span>,</span><span> itemsLoaded</span><span>,</span><span> itemsTotal </span><span>)</span><span> </span><span>{</span><span>
	console</span><span>.</span><span>log</span><span>(</span><span> </span><span>'Loading file: '</span><span> </span><span>+</span><span> url </span><span>+</span><span> </span><span>'.\nLoaded '</span><span> </span><span>+</span><span> itemsLoaded </span><span>+</span><span> </span><span>' of '</span><span> </span><span>+</span><span> itemsTotal </span><span>+</span><span> </span><span>' files.'</span><span> </span><span>);</span><span>
</span><span>};</span><span>

manager</span><span>.</span><span>onError </span><span>=</span><span> </span><span>function</span><span> </span><span>(</span><span> url </span><span>)</span><span> </span><span>{</span><span>
	console</span><span>.</span><span>log</span><span>(</span><span> </span><span>'There was an error loading '</span><span> </span><span>+</span><span> url </span><span>);</span><span>
</span><span>};</span><span>

</span><span>const</span><span> loader </span><span>=</span><span> </span><span>new</span><span> </span><span>OBJLoader</span><span>(</span><span> manager </span><span>);</span><span>
loader</span><span>.</span><span>load</span><span>(</span><span> </span><span>'file.obj'</span><span>,</span><span> </span><span>function</span><span> </span><span>(</span><span> </span><span>object</span><span> </span><span>)</span><span> </span><span>{</span><span>
	</span><span>//</span><span>
</span><span>}</span><span> </span><span>);</span></code></p><p>
			In addition to observing progress, a LoadingManager can be used to
			override resource URLs during loading. This may be helpful for assets
			coming from drag-and-drop events, WebSockets, WebRTC, or other APIs. An
			example showing how to load an in-memory model using Blob URLs is below.
		</p>

		<p><code translate="no"><span>// Blob or File objects created when dragging files into the webpage.</span><span>
</span><span>const</span><span> blobs </span><span>=</span><span> </span><span>{</span><span>'fish.gltf'</span><span>:</span><span> blob1</span><span>,</span><span> </span><span>'diffuse.png'</span><span>:</span><span> blob2</span><span>,</span><span> </span><span>'normal.png'</span><span>:</span><span> blob3</span><span>};</span><span>

</span><span>const</span><span> manager </span><span>=</span><span> </span><span>new</span><span> THREE</span><span>.</span><span>LoadingManager</span><span>();</span><span>

</span><span>// Initialize loading manager with URL callback.</span><span>
</span><span>const</span><span> objectURLs </span><span>=</span><span> </span><span>[];</span><span>
manager</span><span>.</span><span>setURLModifier</span><span>(</span><span> </span><span>(</span><span> url </span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span>

	url </span><span>=</span><span> URL</span><span>.</span><span>createObjectURL</span><span>(</span><span> blobs</span><span>[</span><span> url </span><span>]</span><span> </span><span>);</span><span>
	objectURLs</span><span>.</span><span>push</span><span>(</span><span> url </span><span>);</span><span>
	</span><span>return</span><span> url</span><span>;</span><span>

</span><span>}</span><span> </span><span>);</span><span>

</span><span>// Load as usual, then revoke the blob URLs.</span><span>
</span><span>const</span><span> loader </span><span>=</span><span> </span><span>new</span><span> </span><span>GLTFLoader</span><span>(</span><span> manager </span><span>);</span><span>
loader</span><span>.</span><span>load</span><span>(</span><span> </span><span>'fish.gltf'</span><span>,</span><span> </span><span>(</span><span>gltf</span><span>)</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span>

	scene</span><span>.</span><span>add</span><span>(</span><span> gltf</span><span>.</span><span>scene </span><span>);</span><span>
	objectURLs</span><span>.</span><span>forEach</span><span>(</span><span> </span><span>(</span><span> url </span><span>)</span><span> </span><span>=&gt;</span><span> URL</span><span>.</span><span>revokeObjectURL</span><span>(</span><span> url </span><span>)</span><span> </span><span>);</span><span>

</span><span>});</span></code></p><h2>Examples</h2>

		<p>
			<a href="https://threejs.org/examples/#webgl_loader_obj" target="_blank">WebGL / loader / obj</a><br>
			<a href="https://threejs.org/examples/#webgl_postprocessing_outline" target="_blank">WebGL / postprocessing / outline</a>
		</p>

		<h2>Constructor</h2>
		<h3>
			LoadingManager( onLoad : <a data-fragment="Function">Function</a>, onProgress : <a data-fragment="Function">Function</a>,
			onError : <a data-fragment="Function">Function</a> )
		</h3>
		<p>
			<a data-fragment="Function" title="Function">onLoad</a> — (optional) this function will be called when all
			loaders are done.<br>
			<a data-fragment="Function" title="Function">onProgress</a> — (optional) this function will be called when
			an item is complete.<br>
			<a data-fragment="Function" title="Function">onError</a> — (optional) this function will be called a loader
			encounters errors. <br>

			Creates a new LoadingManager.
		</p>

		<h2>Properties</h2>

		<h3><a data-fragment="LoadingManager.onStart" target="_parent" title="LoadingManager.onStart" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.onStart">#</a> .<a data-fragment="LoadingManager.onStart" id="onStart" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.onStart">onStart</a>  : <a data-fragment="Function">Function</a></h3>
		<div><p>
			This function will be called when loading starts. The arguments are:<br>
			<a data-fragment="String" title="String">url</a> — The url of the item just loaded.<br>
			<a data-fragment="Integer" title="Integer">itemsLoaded</a> — the number of items already loaded so far.<br>
			<a data-fragment="Integer" title="Integer">itemsTotal</a> — the total amount of items to be loaded.</p><p>

			By default this is undefined.
		</p></div>

		<h3><a data-fragment="LoadingManager.onLoad" target="_parent" title="LoadingManager.onLoad" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.onLoad">#</a> .<a data-fragment="LoadingManager.onLoad" id="onLoad" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.onLoad">onLoad</a>  : <a data-fragment="Function">Function</a></h3>
		<p>
			This function will be called when all loading is completed. By default
			this is undefined, unless passed in the constructor.
		</p>

		<h3><a data-fragment="LoadingManager.onProgress" target="_parent" title="LoadingManager.onProgress" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.onProgress">#</a> .<a data-fragment="LoadingManager.onProgress" id="onProgress" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.onProgress">onProgress</a>  : <a data-fragment="Function">Function</a></h3>
		<div><p>
			This function will be called when an item is complete. The arguments
			are:<br>
			<a data-fragment="String" title="String">url</a> — The url of the item just loaded.<br>
			<a data-fragment="Integer" title="Integer">itemsLoaded</a> — the number of items already loaded so far.<br>
			<a data-fragment="Integer" title="Integer">itemsTotal</a> — the total amount of items to be loaded.</p><p>

			By default this is undefined, unless passed in the constructor.
		</p></div>

		<h3><a data-fragment="LoadingManager.onError" target="_parent" title="LoadingManager.onError" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.onError">#</a> .<a data-fragment="LoadingManager.onError" id="onError" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.onError">onError</a>  : <a data-fragment="Function">Function</a></h3>
		<div><p>
			This function will be called when any item errors, with the argument:<br>
			<a data-fragment="String" title="String">url</a> — The url of the item that errored.</p><p>

			By default this is undefined, unless passed in the constructor.
		</p></div>

		<h2>Methods</h2>

		<h3>
			<a data-fragment="LoadingManager.addHandler" target="_parent" title="LoadingManager.addHandler" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.addHandler">#</a> .<a data-fragment="LoadingManager.addHandler" id="addHandler" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.addHandler">addHandler</a> ( regex : <span>Object</span>, loader : <a data-fragment="Loader" href="https://threejs.org/docs/index.html#api/en/loaders/Loader">Loader</a> ) : <span>this</span>
		</h3>
		<p>
			<a data-fragment="Object" title="Object">regex</a> — A regular expression.<br>
			<a data-fragment="Loader" title="Loader" href="https://threejs.org/docs/index.html#api/en/loaders/Loader">loader</a> — The loader.
		</p>

		<p>
			Registers a loader with the given regular expression. Can be used to
			define what loader should be used in order to load specific files. A
			typical use case is to overwrite the default loader for textures.
		</p>
		<p><code translate="no"><span>// add handler for TGA textures </span><span>
manager</span><span>.</span><span>addHandler</span><span>(</span><span> </span><span>/\.tga$/</span><span>i</span><span>,</span><span> </span><span>new</span><span> </span><span>TGALoader</span><span>()</span><span> </span><span>);</span></code></p><h3><a data-fragment="LoadingManager.getHandler" target="_parent" title="LoadingManager.getHandler" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.getHandler">#</a> .<a data-fragment="LoadingManager.getHandler" id="getHandler" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.getHandler">getHandler</a> ( file : <span>String</span> ) : <a data-fragment="Loader" href="https://threejs.org/docs/index.html#api/en/loaders/Loader">Loader</a></h3>
		<p><a data-fragment="String" title="String">file</a> — The file path.</p>

		<p>
			Can be used to retrieve the registered loader for the given file path.
		</p>

		<h3><a data-fragment="LoadingManager.removeHandler" target="_parent" title="LoadingManager.removeHandler" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.removeHandler">#</a> .<a data-fragment="LoadingManager.removeHandler" id="removeHandler" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.removeHandler">removeHandler</a> ( regex : <span>Object</span> ) : <span>this</span></h3>
		<p><a data-fragment="Object" title="Object">regex</a> — A regular expression.</p>

		<p>Removes the loader for the given regular expression.</p>

		<h3><a data-fragment="LoadingManager.resolveURL" target="_parent" title="LoadingManager.resolveURL" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.resolveURL">#</a> .<a data-fragment="LoadingManager.resolveURL" id="resolveURL" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.resolveURL">resolveURL</a> ( url : <span>String</span> ) : <span>String</span></h3>
		<div>
			<p><a data-fragment="String" title="String">url</a> — the url to load</p><p>

			Given a URL, uses the URL modifier callback (if any) and returns a
			resolved URL. If no URL modifier is set, returns the original URL.
		</p></div>

		<h3><a data-fragment="LoadingManager.setURLModifier" target="_parent" title="LoadingManager.setURLModifier" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.setURLModifier">#</a> .<a data-fragment="LoadingManager.setURLModifier" id="setURLModifier" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.setURLModifier">setURLModifier</a> ( callback : <a data-fragment="Function">Function</a> ) : <span>this</span></h3>
		<div>
			<p><a data-fragment="Function" title="Function">callback</a> — URL modifier callback. Called with <a data-fragment="String" title="String">url</a> argument, 
			and must return <a data-fragment="String" title="String">resolvedURL</a>.</p><p>

			If provided, the callback will be passed each resource URL before a
			request is sent. The callback may return the original URL, or a new URL to
			override loading behavior. This behavior can be used to load assets from
			.ZIP files, drag-and-drop APIs, and Data URIs.
		</p></div>

		

		<p>
			<em>
				Note: The following methods are designed to be called internally by
				loaders. You shouldn't call them directly.
			</em>
		</p>

		<h3><a data-fragment="LoadingManager.itemStart" target="_parent" title="LoadingManager.itemStart" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.itemStart">#</a> .<a data-fragment="LoadingManager.itemStart" id="itemStart" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.itemStart">itemStart</a> ( url : <span>String</span> ) : <span>undefined</span></h3>
		<div>
			<p><a data-fragment="String" title="String">url</a> — the url to load</p><p>

			This should be called by any loader using the manager when the loader
			starts loading an url.
		</p></div>

		<h3><a data-fragment="LoadingManager.itemEnd" target="_parent" title="LoadingManager.itemEnd" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.itemEnd">#</a> .<a data-fragment="LoadingManager.itemEnd" id="itemEnd" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.itemEnd">itemEnd</a> ( url : <span>String</span> ) : <span>undefined</span></h3>
		<div>
			<p><a data-fragment="String" title="String">url</a> — the loaded url</p><p>

			This should be called by any loader using the manager when the loader
			ended loading an url.
		</p></div>

		<h3><a data-fragment="LoadingManager.itemError" target="_parent" title="LoadingManager.itemError" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.itemError">#</a> .<a data-fragment="LoadingManager.itemError" id="itemError" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager.itemError">itemError</a> ( url : <span>String</span> ) : <span>undefined</span></h3>
		<div>
			<p><a data-fragment="String" title="String">url</a> — the loaded url</p><p>

			This should be called by any loader using the manager when the loader
			errors loading an url.
		</p></div>

		<h2>Source</h2>

		<p>
			<a href="https://github.com/mrdoob/three.js/blob/master/src/loaders/LoadingManager.js" target="_blank">src/loaders/LoadingManager.js</a>
		</p>
	

<p><img src="https://threejs.org/files/ic_mode_edit_black_24dp.svg"></p></div></div>