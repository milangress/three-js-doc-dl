<div id="readability-page-1" class="page"><div>
		<meta charset="utf-8">
		<base href="../../../">
		
		
	
	
		<p><a data-fragment="Group" title="Group" href="https://threejs.org/docs/index.html#api/en/objects/Group">Group</a> â†’

		</p>

		<div><p>
			XREstimatedLight uses WebXR's light estimation to create
			a light probe, a directional light, and (optionally) an environment map
			that model the user's real-world environment and lighting.<br>
			As WebXR updates the light and environment estimation, XREstimatedLight
			automatically updates the light probe, directional light, and environment map.</p><p>

			It's important to specify <code translate="no"><span>light</span><span>-</span><span>estimation</span></code> as an optional or required
			feature when creating the WebXR session, otherwise the light estimation
			can't work.</p><p> 

			See <a href="https://developer.mozilla.org/en-US/docs/Web/API/XRLightProbe#browser_compatibility">here</a>
			for browser compatibility information, as this is still an experimental feature in WebXR.</p><p>


			To use this, as with all files in the /examples directory, you will have to
			include the file separately in your HTML.
		</p></div>

		<h2>Import</h2>

		<p>
			XREstimatedLight is an add-on, and must be imported explicitly.
			See <a href="#manual/introduction/Installation" target="_blank">Installation / Addons</a>.
		</p>

		<p><code translate="no"><span>import</span><span> </span><span>{</span><span> </span><span>XREstimatedLight</span><span> </span><span>}</span><span> </span><span>from</span><span> </span><span>'three/addons/webxr/XREstimatedLight.js'</span><span>;</span></code></p><h2>Code Example</h2>

		<p><code translate="no"><span>renderer</span><span>.</span><span>xr</span><span>.</span><span>enabled </span><span>=</span><span> </span><span>true</span><span>;</span><span>

</span><span>// Don't add the XREstimatedLight to the scene initially.</span><span>
</span><span>// It doesn't have any estimated lighting values until an AR session starts.</span><span>
</span><span>const</span><span> xrLight </span><span>=</span><span> </span><span>new</span><span> </span><span>XREstimatedLight</span><span>(</span><span> renderer </span><span>);</span><span>

xrLight</span><span>.</span><span>addEventListener</span><span>(</span><span> </span><span>'estimationstart'</span><span> </span><span>,</span><span> </span><span>()</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span>

	scene</span><span>.</span><span>add</span><span>(</span><span> xrLight </span><span>);</span><span>

	</span><span>if</span><span> </span><span>(</span><span> xrLight</span><span>.</span><span>environment </span><span>)</span><span> </span><span>{</span><span>

		scene</span><span>.</span><span>environment </span><span>=</span><span> xrLight</span><span>.</span><span>environment</span><span>;</span><span>

	</span><span>}</span><span>

</span><span>}</span><span> </span><span>);</span><span>

xrLight</span><span>.</span><span>addEventListener</span><span>(</span><span> </span><span>'estimationend'</span><span>,</span><span> </span><span>()</span><span> </span><span>=&gt;</span><span> </span><span>{</span><span>

	scene</span><span>.</span><span>remove</span><span>(</span><span> xrLight </span><span>);</span><span>

	scene</span><span>.</span><span>environment </span><span>=</span><span> </span><span>null</span><span>;</span><span>

</span><span>}</span><span> </span><span>);</span><span>

</span><span>// In order for lighting estimation to work, 'light-estimation' must be included as either</span><span>
</span><span>// an optional or required feature.</span><span>
document</span><span>.</span><span>body</span><span>.</span><span>appendChild</span><span>(</span><span> </span><span>XRButton</span><span>.</span><span>createButton</span><span>(</span><span> renderer</span><span>,</span><span> </span><span>{</span><span>
	optionalFeatures</span><span>:</span><span> </span><span>[</span><span> </span><span>'light-estimation'</span><span> </span><span>]</span><span>
</span><span>}</span><span> </span><span>)</span><span> </span><span>);</span></code></p><h2>Examples</h2>

		<p><a href="https://threejs.org/examples/#webxr_ar_lighting" target="_blank">webxr / light estimation</a></p>

		<h2>Constructor</h2>

		<h3>XREstimatedLight( renderer : <a data-fragment="WebGLRenderer" href="https://threejs.org/docs/index.html#api/en/renderers/WebGLRenderer">WebGLRenderer</a>, environmentEstimation : <span>Boolean</span> )</h3>
		<div>
			<p><a data-fragment="WebGLRenderer" title="WebGLRenderer" href="https://threejs.org/docs/index.html#api/en/renderers/WebGLRenderer">renderer</a>: (required) The renderer used to render the Scene. Mainly used to interact with WebXRManager.</p><p>

			environmentEstimation: If <code translate="no"><span>true</span></code>, use WebXR to estimate an environment map.
		</p></div>

		<h2>Events</h2>

		<h3>estimationstart</h3>
		<p>
			Fires when the estimated lighting values start being updated.
		</p>

		<h3>estimationend</h3>
		<p>
			Fires when the estimated lighting values stop being updated.
		</p>

		<h2>Properties</h2>

		<h3><a data-fragment="XREstimatedLight.environment" target="_parent" title="XREstimatedLight.environment" href="https://threejs.org/docs/index.html#examples/en/webxr/XREstimatedLight.environment">#</a> .<a data-fragment="XREstimatedLight.environment" id="environment" href="https://threejs.org/docs/index.html#examples/en/webxr/XREstimatedLight.environment">environment</a>  : <a data-fragment="Texture" href="https://threejs.org/docs/index.html#api/en/textures/Texture">Texture</a></h3>
		

		<h2>Source</h2>

		<p>
			<a href="https://github.com/mrdoob/three.js/blob/master/examples/jsm/webxr/XREstimatedLight.js" target="_blank">examples/jsm/webxr/XREstimatedLight.js</a>
		</p>
	

<p><img src="https://threejs.org/files/ic_mode_edit_black_24dp.svg"></p></div></div>