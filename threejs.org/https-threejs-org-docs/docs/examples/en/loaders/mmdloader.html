<div id="readability-page-1" class="page"><div>
		<meta charset="utf-8">
		<base href="../../../">
		
		
	
	
		<p><a data-fragment="Loader" title="Loader" href="https://threejs.org/docs/index.html#api/en/loaders/Loader">Loader</a> →

		</p>

		<div><p> A loader for <a href="https://sites.google.com/view/evpvp/"><code translate="no"><span>MMD</span></code></a> resources. </p><p>
		MMDLoader creates Three.js Objects from MMD resources as PMD, PMX, VMD, and VPD files.
		See <a data-fragment="MMDAnimationHelper" title="MMDAnimationHelper" href="https://threejs.org/docs/index.html#examples/en/animations/MMDAnimationHelper">MMDAnimationHelper</a> for MMD animation handling as IK, Grant, and Physics.</p><p>

		If you want raw content of MMD resources, use .loadPMD/PMX/VMD/VPD methods.</p></div>

		<h2>Import</h2>

		<p>
			MMDLoader is an add-on, and must be imported explicitly.
			See <a href="#manual/introduction/Installation" target="_blank">Installation / Addons</a>.
		</p>

		<p><code translate="no"><span>import</span><span> </span><span>{</span><span> </span><span>MMDLoader</span><span> </span><span>}</span><span> </span><span>from</span><span> </span><span>'three/addons/loaders/MMDLoader.js'</span><span>;</span></code></p><h2>Code Example</h2>

		<p><code translate="no"><span>// Instantiate a loader</span><span>
</span><span>const</span><span> loader </span><span>=</span><span> </span><span>new</span><span> </span><span>MMDLoader</span><span>();</span><span>

</span><span>// Load a MMD model</span><span>
loader</span><span>.</span><span>load</span><span>(</span><span>
	</span><span>// path to PMD/PMX file</span><span>
	</span><span>'models/mmd/miku.pmd'</span><span>,</span><span>
	</span><span>// called when the resource is loaded</span><span>
	</span><span>function</span><span> </span><span>(</span><span> mesh </span><span>)</span><span> </span><span>{</span><span>

		scene</span><span>.</span><span>add</span><span>(</span><span> mesh </span><span>);</span><span>

	</span><span>},</span><span>
	</span><span>// called when loading is in progresses</span><span>
	</span><span>function</span><span> </span><span>(</span><span> xhr </span><span>)</span><span> </span><span>{</span><span>

		console</span><span>.</span><span>log</span><span>(</span><span> </span><span>(</span><span> xhr</span><span>.</span><span>loaded </span><span>/</span><span> xhr</span><span>.</span><span>total </span><span>*</span><span> </span><span>100</span><span> </span><span>)</span><span> </span><span>+</span><span> </span><span>'% loaded'</span><span> </span><span>);</span><span>

	</span><span>},</span><span>
	</span><span>// called when loading has errors</span><span>
	</span><span>function</span><span> </span><span>(</span><span> error </span><span>)</span><span> </span><span>{</span><span>

		console</span><span>.</span><span>log</span><span>(</span><span> </span><span>'An error happened'</span><span> </span><span>);</span><span>

	</span><span>}</span><span>
</span><span>);</span></code></p><h2>Examples</h2>
		<p>
		<a href="https://threejs.org/examples/#webgl_loader_mmd" target="_blank">webgl_loader_mmd</a><br>
		<a href="https://threejs.org/examples/#webgl_loader_mmd_pose" target="_blank">webgl_loader_mmd_pose</a><br>
		<a href="https://threejs.org/examples/#webgl_loader_mmd_audio" target="_blank">webgl_loader_mmd_audio</a>
		</p>

		<h2>Constructor</h2>

		<h3>MMDLoader( manager : <a data-fragment="LoadingManager" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager">LoadingManager</a> )</h3>
		<p>
		<a data-fragment="LoadingManager" title="LoadingManager" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager">manager</a> — The <a data-fragment="LoadingManager" title="LoadingManager" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager">loadingManager</a> for the loader to use. Default is <a data-fragment="LoadingManager" title="LoadingManager" href="https://threejs.org/docs/index.html#api/en/loaders/managers/LoadingManager">THREE.DefaultLoadingManager</a>.
		</p>
		<p>
		Creates a new MMDLoader.
		</p>

		<h2>Properties</h2>
		<p>See the base <a data-fragment="Loader" title="Loader" href="https://threejs.org/docs/index.html#api/en/loaders/Loader">Loader</a> class for common properties.</p>

		<h2>Methods</h2>
		<p>See the base <a data-fragment="Loader" title="Loader" href="https://threejs.org/docs/index.html#api/en/loaders/Loader">Loader</a> class for common methods.</p>

		<h3><a data-fragment="MMDLoader.load" target="_parent" title="MMDLoader.load" href="https://threejs.org/docs/index.html#examples/en/loaders/MMDLoader.load">#</a> .<a data-fragment="MMDLoader.load" id="load" href="https://threejs.org/docs/index.html#examples/en/loaders/MMDLoader.load">load</a> ( url : <span>String</span>, onLoad : <a data-fragment="Function">Function</a>, onProgress : <a data-fragment="Function">Function</a>, onError : <a data-fragment="Function">Function</a> ) : <span>undefined</span></h3>
		<p>
		<a data-fragment="String" title="String">url</a> — A string containing the path/URL of the <code translate="no"><span>.</span><span>pmd</span></code> or <code translate="no"><span>.</span><span>pmx</span></code> file.<br>
		<a data-fragment="Function" title="Function">onLoad</a> — A function to be called after the loading is successfully completed.<br>
		<a data-fragment="Function" title="Function">onProgress</a> — (optional) A function to be called while the loading is in progress. The argument will be the XMLHttpRequest instance, that contains .<a data-fragment="Integer" title="Integer">total</a> and .<a data-fragment="Integer" title="Integer">loaded</a> bytes. If the server does not set the Content-Length header; .<a data-fragment="Integer" title="Integer">total</a> will be 0.<br>
		<a data-fragment="Function" title="Function">onError</a> — (optional) A function to be called if an error occurs during loading. The function receives error as an argument.<br>
		</p>
		<p>
		Begin loading PMD/PMX model file from url and fire the callback function with the parsed <a data-fragment="SkinnedMesh" title="SkinnedMesh" href="https://threejs.org/docs/index.html#api/en/objects/SkinnedMesh">SkinnedMesh</a> containing <a data-fragment="BufferGeometry" title="BufferGeometry" href="https://threejs.org/docs/index.html#api/en/core/BufferGeometry">BufferGeometry</a> and an array of <a data-fragment="MeshToonMaterial" title="MeshToonMaterial" href="https://threejs.org/docs/index.html#api/en/materials/MeshToonMaterial">MeshToonMaterial</a>.
		</p>

		<h3><a data-fragment="MMDLoader.loadAnimation" target="_parent" title="MMDLoader.loadAnimation" href="https://threejs.org/docs/index.html#examples/en/loaders/MMDLoader.loadAnimation">#</a> .<a data-fragment="MMDLoader.loadAnimation" id="loadAnimation" href="https://threejs.org/docs/index.html#examples/en/loaders/MMDLoader.loadAnimation">loadAnimation</a> ( url : <span>String</span>, object : <a data-fragment="Object3D" href="https://threejs.org/docs/index.html#api/en/core/Object3D">Object3D</a>, onLoad : <a data-fragment="Function">Function</a>, onProgress : <a data-fragment="Function">Function</a>, onError : <a data-fragment="Function">Function</a> ) : <span>undefined</span></h3>
		<p>
		<a data-fragment="String" title="String">url</a> — A string or an array of string containing the path/URL of the <code translate="no"><span>.</span><span>vmd</span></code> file(s).If two or more files are specified, they'll be merged.<br>
		<a data-fragment="Object3D" title="Object3D" href="https://threejs.org/docs/index.html#api/en/core/Object3D">object</a> — <a data-fragment="SkinnedMesh" title="SkinnedMesh" href="https://threejs.org/docs/index.html#api/en/objects/SkinnedMesh">SkinnedMesh</a> or <a data-fragment="Camera" title="Camera" href="https://threejs.org/docs/index.html#api/en/cameras/Camera">Camera</a>. Clip and its tracks will be fitting to this object.<br>
		<a data-fragment="Function" title="Function">onLoad</a> — A function to be called after the loading is successfully completed.<br>
		<a data-fragment="Function" title="Function">onProgress</a> — (optional) A function to be called while the loading is in progress. The argument will be the XMLHttpRequest instance, that contains .<a data-fragment="Integer" title="Integer">total</a> and .<a data-fragment="Integer" title="Integer">loaded</a> bytes.<br>
		<a data-fragment="Function" title="Function">onError</a> — (optional) A function to be called if an error occurs during loading. The function receives error as an argument.<br>
		</p>
		<p>
		Begin loading VMD motion file(s) from url(s) and fire the callback function with the parsed <a data-fragment="AnimationClip" title="AnimationClip" href="https://threejs.org/docs/index.html#api/en/animation/AnimationClip">AnimationClip</a>.
		</p>

		<h3><a data-fragment="MMDLoader.loadWithAnimation" target="_parent" title="MMDLoader.loadWithAnimation" href="https://threejs.org/docs/index.html#examples/en/loaders/MMDLoader.loadWithAnimation">#</a> .<a data-fragment="MMDLoader.loadWithAnimation" id="loadWithAnimation" href="https://threejs.org/docs/index.html#examples/en/loaders/MMDLoader.loadWithAnimation">loadWithAnimation</a> ( modelUrl : <span>String</span>, vmdUrl : <span>String</span>, onLoad : <a data-fragment="Function">Function</a>, onProgress : <a data-fragment="Function">Function</a>, onError : <a data-fragment="Function">Function</a> ) : <span>undefined</span></h3>
		<p>
		<a data-fragment="String" title="String">modelUrl</a> — A string containing the path/URL of the <code translate="no"><span>.</span><span>pmd</span></code> or <code translate="no"><span>.</span><span>pmx</span></code> file.<br>
		<a data-fragment="String" title="String">vmdUrl</a> — A string or an array of string containing the path/URL of the <code translate="no"><span>.</span><span>vmd</span></code> file(s).<br>
		<a data-fragment="Function" title="Function">onLoad</a> — A function to be called after the loading is successfully completed.<br>
		<a data-fragment="Function" title="Function">onProgress</a> — (optional) A function to be called while the loading is in progress. The argument will be the XMLHttpRequest instance, that contains .<a data-fragment="Integer" title="Integer">total</a> and .<a data-fragment="Integer" title="Integer">loaded</a> bytes.<br>
		<a data-fragment="Function" title="Function">onError</a> — (optional) A function to be called if an error occurs during loading. The function receives error as an argument.<br>
		</p>
		<p>
		Begin loading PMD/PMX model file and VMD motion file(s) from urls and fire the callback function with an <a data-fragment="Object" title="Object">Object</a> containing parsed <a data-fragment="SkinnedMesh" title="SkinnedMesh" href="https://threejs.org/docs/index.html#api/en/objects/SkinnedMesh">SkinnedMesh</a> and <a data-fragment="AnimationClip" title="AnimationClip" href="https://threejs.org/docs/index.html#api/en/animation/AnimationClip">AnimationClip</a> fitting to the <a data-fragment="SkinnedMesh" title="SkinnedMesh" href="https://threejs.org/docs/index.html#api/en/objects/SkinnedMesh">SkinnedMesh</a>.
		</p>

		<h3><a data-fragment="MMDLoader.setAnimationPath" target="_parent" title="MMDLoader.setAnimationPath" href="https://threejs.org/docs/index.html#examples/en/loaders/MMDLoader.setAnimationPath">#</a> .<a data-fragment="MMDLoader.setAnimationPath" id="setAnimationPath" href="https://threejs.org/docs/index.html#examples/en/loaders/MMDLoader.setAnimationPath">setAnimationPath</a> ( animationPath : <span>String</span> ) : <span>this</span></h3>
		<p>
		<a data-fragment="String" title="String">animationPath</a> — Base path for loading animation data (VMD/VPD files).
		</p>
		<p>
		Set the base path for additional resources like textures.
		</p>

		<h2>Source</h2>

		<p>
			<a href="https://github.com/mrdoob/three.js/blob/master/examples/jsm/loaders/MMDLoader.js" target="_blank">examples/jsm/loaders/MMDLoader.js</a>
		</p>
	

<p><img src="https://threejs.org/files/ic_mode_edit_black_24dp.svg"></p></div></div>