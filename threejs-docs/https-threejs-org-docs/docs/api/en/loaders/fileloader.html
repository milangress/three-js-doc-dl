<!DOCTYPE html><html><head><title>FileLoader – three.js docs</title></head><body><body>
		<a class=/"links/" data-fragment=/"Loader/" title=/"Loader/" href=/"./index.html#api/en/loaders/Loader/">Loader</a> →

		<h1>FileLoader</h1>

		<p class=/"desc/">
			A low level class for loading resources with Fetch, used internally by
			most loaders. It can also be used directly to load any file type that does
			not have a loader.
		</p>

		<h2>Code Example</h2>
		<code class=/" prettyprint/" translate=/"no/"><span class=/"kwd/">const</span><span class=/"pln/"> loader </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"kwd/">new</span><span class=/"pln/"> THREE</span><span class=/"pun/">.</span><span class=/"typ/">FileLoader</span><span class=/"pun/">();</span><span class=/"pln/">

</span><span class=/"com/">//load a text file and output the result to the console</span><span class=/"pln/">
loader</span><span class=/"pun/">.</span><span class=/"pln/">load</span><span class=/"pun/">(</span><span class=/"pln/">
	</span><span class=/"com/">// resource URL</span><span class=/"pln/">
	</span><span class=/"str/">'example.txt'</span><span class=/"pun/">,</span><span class=/"pln/">

	</span><span class=/"com/">// onLoad callback</span><span class=/"pln/">
	</span><span class=/"kwd/">function</span><span class=/"pln/"> </span><span class=/"pun/">(</span><span class=/"pln/"> data </span><span class=/"pun/">)</span><span class=/"pln/"> </span><span class=/"pun/">{</span><span class=/"pln/">
		</span><span class=/"com/">// output the text to the console</span><span class=/"pln/">
		console</span><span class=/"pun/">.</span><span class=/"pln/">log</span><span class=/"pun/">(</span><span class=/"pln/"> data </span><span class=/"pun/">)</span><span class=/"pln/">
	</span><span class=/"pun/">},</span><span class=/"pln/">

	</span><span class=/"com/">// onProgress callback</span><span class=/"pln/">
	</span><span class=/"kwd/">function</span><span class=/"pln/"> </span><span class=/"pun/">(</span><span class=/"pln/"> xhr </span><span class=/"pun/">)</span><span class=/"pln/"> </span><span class=/"pun/">{</span><span class=/"pln/">
		console</span><span class=/"pun/">.</span><span class=/"pln/">log</span><span class=/"pun/">(</span><span class=/"pln/"> </span><span class=/"pun/">(</span><span class=/"pln/">xhr</span><span class=/"pun/">.</span><span class=/"pln/">loaded </span><span class=/"pun/">/</span><span class=/"pln/"> xhr</span><span class=/"pun/">.</span><span class=/"pln/">total </span><span class=/"pun/">*</span><span class=/"pln/"> </span><span class=/"lit/">100</span><span class=/"pun/">)</span><span class=/"pln/"> </span><span class=/"pun/">+</span><span class=/"pln/"> </span><span class=/"str/">'% loaded'</span><span class=/"pln/"> </span><span class=/"pun/">);</span><span class=/"pln/">
	</span><span class=/"pun/">},</span><span class=/"pln/">

	</span><span class=/"com/">// onError callback</span><span class=/"pln/">
	</span><span class=/"kwd/">function</span><span class=/"pln/"> </span><span class=/"pun/">(</span><span class=/"pln/"> err </span><span class=/"pun/">)</span><span class=/"pln/"> </span><span class=/"pun/">{</span><span class=/"pln/">
		console</span><span class=/"pun/">.</span><span class=/"pln/">error</span><span class=/"pun/">(</span><span class=/"pln/"> </span><span class=/"str/">'An error happened'</span><span class=/"pln/"> </span><span class=/"pun/">);</span><span class=/"pln/">
	</span><span class=/"pun/">}</span><span class=/"pln/">
</span><span class=/"pun/">);</span></code>

		<p>
			*Note:* The cache must be enabled using
			<code class=/" prettyprint/" translate=/"no/"><span class=/"pln/">THREE</span><span class=/"pun/">.</span><span class=/"typ/">Cache</span><span class=/"pun/">.</span><span class=/"pln/">enabled </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"kwd/">true</span><span class=/"pun/">;</span></code>
			This is a global property and only needs to be set once to be used by all
			loaders that use FileLoader internally. <a class=/"links/" data-fragment=/"Cache/" title=/"Cache/" href=/"./index.html#api/en/loaders/Cache/">Cache</a> is a cache
			module that holds the response from each request made through this loader,
			so each file is requested once.
		</p>

		<h2>Constructor</h2>

		<h3>FileLoader ( manager : <a class=/"param links/" data-fragment=/"LoadingManager/" href=/"./index.html#api/en/loaders/managers/LoadingManager/">LoadingManager</a> )</h3>
		<p>
			<a class=/"links/" data-fragment=/"LoadingManager/" title=/"LoadingManager/" href=/"./index.html#api/en/loaders/managers/LoadingManager/">manager</a> — The <a class=/"links/" data-fragment=/"LoadingManager/" title=/"LoadingManager/" href=/"./index.html#api/en/loaders/managers/LoadingManager/">loadingManager</a>
			for the loader to use. Default is <a class=/"links/" data-fragment=/"DefaultLoadingManager/" title=/"DefaultLoadingManager/" href=/"./index.html#api/en/loaders/managers/DefaultLoadingManager/">DefaultLoadingManager</a>.
		</p>

		<h2>Properties</h2>
		<p>See the base <a class=/"links/" data-fragment=/"Loader/" title=/"Loader/" href=/"./index.html#api/en/loaders/Loader/">Loader</a> class for common properties.</p>

		<h3><a class=/"permalink links/" data-fragment=/"FileLoader.mimeType/" target=/"_parent/" title=/"FileLoader.mimeType/" href=/"./index.html#api/en/loaders/FileLoader.mimeType/">#</a> .<a class=/"links/" data-fragment=/"FileLoader.mimeType/" id=/"mimeType/" href=/"./index.html#api/en/loaders/FileLoader.mimeType/">mimeType</a>  : <span class=/"param/">String</span></h3>
		<p>
			The expected
			<a href=/"https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/" target=/"_blank/">mimeType</a>.
			See <a class=/"links/" data-fragment=/"FileLoader.setMimeType/" title=/"FileLoader.setMimeType/" href=/"./index.html#api/en/loaders/FileLoader.setMimeType/">.setMimeType</a>. Default is <code class=/"inline prettyprint/" translate=/"no/"><span class=/"kwd/">undefined</span></code>.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"FileLoader.responseType/" target=/"_parent/" title=/"FileLoader.responseType/" href=/"./index.html#api/en/loaders/FileLoader.responseType/">#</a> .<a class=/"links/" data-fragment=/"FileLoader.responseType/" id=/"responseType/" href=/"./index.html#api/en/loaders/FileLoader.responseType/">responseType</a>  : <span class=/"param/">String</span></h3>
		<p>
			The expected response type. See <a class=/"links/" data-fragment=/"FileLoader.setResponseType/" title=/"FileLoader.setResponseType/" href=/"./index.html#api/en/loaders/FileLoader.setResponseType/">.setResponseType</a>. Default is
			<code class=/"inline prettyprint/" translate=/"no/"><span class=/"kwd/">undefined</span></code>.
		</p>

		<h2>Methods</h2>
		<p>See the base <a class=/"links/" data-fragment=/"Loader/" title=/"Loader/" href=/"./index.html#api/en/loaders/Loader/">Loader</a> class for common methods.</p>

		<h3>
			<a class=/"permalink links/" data-fragment=/"FileLoader.load/" target=/"_parent/" title=/"FileLoader.load/" href=/"./index.html#api/en/loaders/FileLoader.load/">#</a> .<a class=/"links/" data-fragment=/"FileLoader.load/" id=/"load/" href=/"./index.html#api/en/loaders/FileLoader.load/">load</a> ( url : <span class=/"param/">String</span>, onLoad : <a class=/"param links/" data-fragment=/"Function/">Function</a>, onProgress : <a class=/"param links/" data-fragment=/"Function/">Function</a>, onError : <a class=/"param links/" data-fragment=/"Function/">Function</a> ) : <span class=/"param/">undefined</span>
		</h3>
		<p>
			<a class=/"links/" data-fragment=/"String/" title=/"String/">url</a> — the path or URL to the file. This can also be a
			<a href=/"https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/Data_URIs/" target=/"_blank/">Data URI</a>.<br>
			<a class=/"links/" data-fragment=/"Function/" title=/"Function/">onLoad</a> (optional) — Will be called when loading completes.
			The argument will be the loaded response.<br>
			<a class=/"links/" data-fragment=/"Function/" title=/"Function/">onProgress</a> (optional) — Will be called while load
			progresses. The argument will be the ProgressEvent instance, which
			contains .<a class=/"links/" data-fragment=/"Boolean/" title=/"Boolean/">lengthComputable</a>, .<a class=/"links/" data-fragment=/"Integer/" title=/"Integer/">total</a> and
			.<a class=/"links/" data-fragment=/"Integer/" title=/"Integer/">loaded</a>. If the server does not set the Content-Length
			header; .<a class=/"links/" data-fragment=/"Integer/" title=/"Integer/">total</a> will be 0.<br>
			<a class=/"links/" data-fragment=/"Function/" title=/"Function/">onError</a> (optional) — Will be called if an error occurs.<br><br>

			Load the URL and pass the response to the onLoad function.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"FileLoader.setMimeType/" target=/"_parent/" title=/"FileLoader.setMimeType/" href=/"./index.html#api/en/loaders/FileLoader.setMimeType/">#</a> .<a class=/"links/" data-fragment=/"FileLoader.setMimeType/" id=/"setMimeType/" href=/"./index.html#api/en/loaders/FileLoader.setMimeType/">setMimeType</a> ( mimeType : <span class=/"param/">String</span> ) : <span class=/"param/">this</span></h3>
		<p>
			Set the expected
			<a href=/"https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/" target=/"_blank/">mimeType</a> 
			of the file being loaded. Note that in many cases this will be
			determined automatically, so by default it is <code class=/"inline prettyprint/" translate=/"no/"><span class=/"kwd/">undefined</span></code>.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"FileLoader.setResponseType/" target=/"_parent/" title=/"FileLoader.setResponseType/" href=/"./index.html#api/en/loaders/FileLoader.setResponseType/">#</a> .<a class=/"links/" data-fragment=/"FileLoader.setResponseType/" id=/"setResponseType/" href=/"./index.html#api/en/loaders/FileLoader.setResponseType/">setResponseType</a> ( responseType : <span class=/"param/">String</span> ) : <span class=/"param/">this</span></h3>
		<p>
			Change the response type. Valid values are:<br>
			<a class=/"links/" data-fragment=/"String/" title=/"String/">text</a> or empty string (default) - returns the data as
			<a class=/"links/" data-fragment=/"String/" title=/"String/">String</a>.<br>
			<a class=/"links/" data-fragment=/"String/" title=/"String/">arraybuffer</a> - loads the data into a
			<a href=/"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/ArrayBuffer/" target=/"_blank/">ArrayBuffer</a> and returns that.<br>
			<a class=/"links/" data-fragment=/"String/" title=/"String/">blob</a> - returns the data as a
			<a href=/"https://developer.mozilla.org/en/docs/Web/API/Blob/" target=/"_blank/">Blob</a>.<br>
			<a class=/"links/" data-fragment=/"String/" title=/"String/">document</a> - parses the file using the
			<a href=/"https://developer.mozilla.org/en-US/docs/Web/API/DOMParser/" target=/"_blank/">DOMParser</a>.<br>
			<a class=/"links/" data-fragment=/"String/" title=/"String/">json</a> - parses the file using
			<a href=/"https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/JSON/parse/" target=/"_blank/">JSON.parse</a>.<br>
		</p>

		<h2>Source</h2>

		<p>
			<a href=/"https://github.com/mrdoob/three.js/blob/master/src/loaders/FileLoader.js/" target=/"_blank/">src/loaders/FileLoader.js</a>
		</p>
	

<div id=/"button/"><img src=/"../files/ic_mode_edit_black_24dp.svg/"></div></body></body></html>