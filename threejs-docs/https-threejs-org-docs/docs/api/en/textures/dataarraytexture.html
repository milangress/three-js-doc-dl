<!DOCTYPE html><html><head><title>DataArrayTexture – three.js docs</title></head><body><body>
		<a class=/"links/" data-fragment=/"Texture/" title=/"Texture/" href=/"./index.html#api/en/textures/Texture/">Texture</a> →

		<h1>DataArrayTexture</h1>

		<p class=/"desc/">
			Creates an array of textures directly from raw data, width and height and
			depth.
		</p>

		<h2>Constructor</h2>

		<h3>DataArrayTexture( data, width, height, depth )</h3>
		<p>
			The data argument must be an
			<a href=/"https://developer.mozilla.org/en-US/docs/Web/API/ArrayBufferView/" target=/"_blank/">ArrayBufferView</a>. 
			The properties inherited from <a class=/"links/" data-fragment=/"Texture/" title=/"Texture/" href=/"./index.html#api/en/textures/Texture/">Texture</a> are the
			default, except magFilter and minFilter default to THREE.NearestFilter.
			The properties flipY and generateMipmaps are initially set to false.
		</p>
		<p>
			The interpretation of the data depends on type and format: If the type is
			THREE.UnsignedByteType, a Uint8Array will be useful for addressing the
			texel data. If the format is THREE.RGBAFormat, data needs four values for
			one texel; Red, Green, Blue and Alpha (typically the opacity).<br>

			For the packed types, THREE.UnsignedShort4444Type and
			THREE.UnsignedShort5551Type all color components of one texel can be
			addressed as bitfields within an integer element of a Uint16Array.<br>

			In order to use the types THREE.FloatType and THREE.HalfFloatType, the
			WebGL implementation must support the respective extensions
			OES_texture_float and OES_texture_half_float. In order to use
			THREE.LinearFilter for component-wise, bilinear interpolation of the
			texels based on these types, the WebGL extensions OES_texture_float_linear
			or OES_texture_half_float_linear must also be present.
		</p>

		<h2>Code Example</h2>

		<p>This creates a DataArrayTexture where each texture has a different color.</p>

		<code class=/" prettyprint/" translate=/"no/"><span class=/"com/">// create a buffer with color data</span><span class=/"pln/">
</span><span class=/"kwd/">const</span><span class=/"pln/"> width </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"lit/">512</span><span class=/"pun/">;</span><span class=/"pln/">
</span><span class=/"kwd/">const</span><span class=/"pln/"> height </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"lit/">512</span><span class=/"pun/">;</span><span class=/"pln/">
</span><span class=/"kwd/">const</span><span class=/"pln/"> depth </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"lit/">100</span><span class=/"pun/">;</span><span class=/"pln/">

</span><span class=/"kwd/">const</span><span class=/"pln/"> size </span><span class=/"pun/">=</span><span class=/"pln/"> width </span><span class=/"pun/">*</span><span class=/"pln/"> height</span><span class=/"pun/">;</span><span class=/"pln/">
</span><span class=/"kwd/">const</span><span class=/"pln/"> data </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"kwd/">new</span><span class=/"pln/"> </span><span class=/"typ/">Uint8Array</span><span class=/"pun/">(</span><span class=/"pln/"> </span><span class=/"lit/">4</span><span class=/"pln/"> </span><span class=/"pun/">*</span><span class=/"pln/"> size </span><span class=/"pun/">*</span><span class=/"pln/"> depth </span><span class=/"pun/">);</span><span class=/"pln/">

</span><span class=/"kwd/">for</span><span class=/"pln/"> </span><span class=/"pun/">(</span><span class=/"pln/"> let i </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"lit/">0</span><span class=/"pun/">;</span><span class=/"pln/"> i </span><span class=/"pun/">&lt;</span><span class=/"pln/"> depth</span><span class=/"pun/">;</span><span class=/"pln/"> i </span><span class=/"pun/">++</span><span class=/"pln/"> </span><span class=/"pun/">)</span><span class=/"pln/"> </span><span class=/"pun/">{</span><span class=/"pln/">
	</span><span class=/"kwd/">const</span><span class=/"pln/"> color </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"kwd/">new</span><span class=/"pln/"> THREE</span><span class=/"pun/">.</span><span class=/"typ/">Color</span><span class=/"pun/">(</span><span class=/"pln/"> </span><span class=/"typ/">Math</span><span class=/"pun/">.</span><span class=/"pln/">random</span><span class=/"pun/">(),</span><span class=/"pln/"> </span><span class=/"typ/">Math</span><span class=/"pun/">.</span><span class=/"pln/">random</span><span class=/"pun/">(),</span><span class=/"pln/"> </span><span class=/"typ/">Math</span><span class=/"pun/">.</span><span class=/"pln/">random</span><span class=/"pun/">()</span><span class=/"pln/"> </span><span class=/"pun/">);</span><span class=/"pln/">
	</span><span class=/"kwd/">const</span><span class=/"pln/"> r </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"typ/">Math</span><span class=/"pun/">.</span><span class=/"pln/">floor</span><span class=/"pun/">(</span><span class=/"pln/"> color</span><span class=/"pun/">.</span><span class=/"pln/">r </span><span class=/"pun/">*</span><span class=/"pln/"> </span><span class=/"lit/">255</span><span class=/"pln/"> </span><span class=/"pun/">);</span><span class=/"pln/">
	</span><span class=/"kwd/">const</span><span class=/"pln/"> g </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"typ/">Math</span><span class=/"pun/">.</span><span class=/"pln/">floor</span><span class=/"pun/">(</span><span class=/"pln/"> color</span><span class=/"pun/">.</span><span class=/"pln/">g </span><span class=/"pun/">*</span><span class=/"pln/"> </span><span class=/"lit/">255</span><span class=/"pln/"> </span><span class=/"pun/">);</span><span class=/"pln/">
	</span><span class=/"kwd/">const</span><span class=/"pln/"> b </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"typ/">Math</span><span class=/"pun/">.</span><span class=/"pln/">floor</span><span class=/"pun/">(</span><span class=/"pln/"> color</span><span class=/"pun/">.</span><span class=/"pln/">b </span><span class=/"pun/">*</span><span class=/"pln/"> </span><span class=/"lit/">255</span><span class=/"pln/"> </span><span class=/"pun/">);</span><span class=/"pln/">

	</span><span class=/"kwd/">for</span><span class=/"pln/"> </span><span class=/"pun/">(</span><span class=/"pln/"> let j </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"lit/">0</span><span class=/"pun/">;</span><span class=/"pln/"> j </span><span class=/"pun/">&lt;</span><span class=/"pln/"> size</span><span class=/"pun/">;</span><span class=/"pln/"> j </span><span class=/"pun/">++</span><span class=/"pln/"> </span><span class=/"pun/">)</span><span class=/"pln/"> </span><span class=/"pun/">{</span><span class=/"pln/">
		</span><span class=/"kwd/">const</span><span class=/"pln/"> stride </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"pun/">(</span><span class=/"pln/"> i </span><span class=/"pun/">*</span><span class=/"pln/"> size </span><span class=/"pun/">+</span><span class=/"pln/"> j </span><span class=/"pun/">)</span><span class=/"pln/"> </span><span class=/"pun/">*</span><span class=/"pln/"> </span><span class=/"lit/">4</span><span class=/"pun/">;</span><span class=/"pln/">
		data</span><span class=/"pun/">[</span><span class=/"pln/"> stride </span><span class=/"pun/">]</span><span class=/"pln/"> </span><span class=/"pun/">=</span><span class=/"pln/"> r</span><span class=/"pun/">;</span><span class=/"pln/">
		data</span><span class=/"pun/">[</span><span class=/"pln/"> stride </span><span class=/"pun/">+</span><span class=/"pln/"> </span><span class=/"lit/">1</span><span class=/"pln/"> </span><span class=/"pun/">]</span><span class=/"pln/"> </span><span class=/"pun/">=</span><span class=/"pln/"> g</span><span class=/"pun/">;</span><span class=/"pln/">
		data</span><span class=/"pun/">[</span><span class=/"pln/"> stride </span><span class=/"pun/">+</span><span class=/"pln/"> </span><span class=/"lit/">2</span><span class=/"pln/"> </span><span class=/"pun/">]</span><span class=/"pln/"> </span><span class=/"pun/">=</span><span class=/"pln/"> b</span><span class=/"pun/">;</span><span class=/"pln/">
		data</span><span class=/"pun/">[</span><span class=/"pln/"> stride </span><span class=/"pun/">+</span><span class=/"pln/"> </span><span class=/"lit/">3</span><span class=/"pln/"> </span><span class=/"pun/">]</span><span class=/"pln/"> </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"lit/">255</span><span class=/"pun/">;</span><span class=/"pln/">
	</span><span class=/"pun/">}</span><span class=/"pln/">
</span><span class=/"pun/">}</span><span class=/"pln/">

</span><span class=/"com/">// used the buffer to create a DataArrayTexture</span><span class=/"pln/">
</span><span class=/"kwd/">const</span><span class=/"pln/"> texture </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"kwd/">new</span><span class=/"pln/"> THREE</span><span class=/"pun/">.</span><span class=/"typ/">DataArrayTexture</span><span class=/"pun/">(</span><span class=/"pln/"> data</span><span class=/"pun/">,</span><span class=/"pln/"> width</span><span class=/"pun/">,</span><span class=/"pln/"> height</span><span class=/"pun/">,</span><span class=/"pln/"> depth </span><span class=/"pun/">);</span><span class=/"pln/">
texture</span><span class=/"pun/">.</span><span class=/"pln/">needsUpdate </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"kwd/">true</span><span class=/"pun/">;</span></code>

		<h2>Examples</h2>

		<p>
			<a href=/"../examples/#webgl_texture2darray/" target=/"_blank/">WebGL / texture2darray</a><br>
			<a href=/"../examples/#webgl_rendertarget_texture2darray/" target=/"_blank/">WebGL / rendertarget / texture2darray</a>
		</p>

		<h2>Properties</h2>

		<p>See the base <a class=/"links/" data-fragment=/"Texture/" title=/"Texture/" href=/"./index.html#api/en/textures/Texture/">Texture</a> class for common properties.</p>

		<h3><a class=/"permalink links/" data-fragment=/"DataArrayTexture.flipY/" target=/"_parent/" title=/"DataArrayTexture.flipY/" href=/"./index.html#api/en/textures/DataArrayTexture.flipY/">#</a> .<a class=/"links/" data-fragment=/"DataArrayTexture.flipY/" id=/"flipY/" href=/"./index.html#api/en/textures/DataArrayTexture.flipY/">flipY</a>  : <span class=/"param/">Boolean</span></h3>
		<p>
			Whether the texture is flipped along the Y axis when uploaded to the GPU.
			Default is <code class=/"inline prettyprint/" translate=/"no/"><span class=/"kwd/">false</span></code>.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"DataArrayTexture.generateMipmaps/" target=/"_parent/" title=/"DataArrayTexture.generateMipmaps/" href=/"./index.html#api/en/textures/DataArrayTexture.generateMipmaps/">#</a> .<a class=/"links/" data-fragment=/"DataArrayTexture.generateMipmaps/" id=/"generateMipmaps/" href=/"./index.html#api/en/textures/DataArrayTexture.generateMipmaps/">generateMipmaps</a>  : <span class=/"param/">Boolean</span></h3>
		<p>
			Whether to generate mipmaps (if possible) for the texture. Default is
			<code class=/"inline prettyprint/" translate=/"no/"><span class=/"kwd/">false</span></code>.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"DataArrayTexture.image/" target=/"_parent/" title=/"DataArrayTexture.image/" href=/"./index.html#api/en/textures/DataArrayTexture.image/">#</a> .<a class=/"links/" data-fragment=/"DataArrayTexture.image/" id=/"image/" href=/"./index.html#api/en/textures/DataArrayTexture.image/">image</a>  : <span class=/"param/">Object</span></h3>
		<p>Overridden with a object holding data, width, height, and depth.</p>

		<h3><a class=/"permalink links/" data-fragment=/"DataArrayTexture.isDataArrayTexture/" target=/"_parent/" title=/"DataArrayTexture.isDataArrayTexture/" href=/"./index.html#api/en/textures/DataArrayTexture.isDataArrayTexture/">#</a> .<a class=/"links/" data-fragment=/"DataArrayTexture.isDataArrayTexture/" id=/"isDataArrayTexture/" href=/"./index.html#api/en/textures/DataArrayTexture.isDataArrayTexture/">isDataArrayTexture</a>  : <span class=/"param/">Boolean</span></h3>
		<p>Read-only flag to check if a given object is of type DataArrayTexture.</p>

		<h3><a class=/"permalink links/" data-fragment=/"DataArrayTexture.magFilter/" target=/"_parent/" title=/"DataArrayTexture.magFilter/" href=/"./index.html#api/en/textures/DataArrayTexture.magFilter/">#</a> .<a class=/"links/" data-fragment=/"DataArrayTexture.magFilter/" id=/"magFilter/" href=/"./index.html#api/en/textures/DataArrayTexture.magFilter/">magFilter</a>  : <span class=/"param/">number</span></h3>
		<p>
			How the texture is sampled when a texel covers more than one pixel. The
			default is <a class=/"links/" data-fragment=/"Textures/" title=/"Textures/" href=/"./index.html#api/en/constants/Textures/">THREE.NearestFilter</a>, which uses the value of
			the closest texel.<br><br>

			See the <a class=/"links/" data-fragment=/"Textures/" title=/"Textures/" href=/"./index.html#api/en/constants/Textures/">texture constants</a> page for details.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"DataArrayTexture.minFilter/" target=/"_parent/" title=/"DataArrayTexture.minFilter/" href=/"./index.html#api/en/textures/DataArrayTexture.minFilter/">#</a> .<a class=/"links/" data-fragment=/"DataArrayTexture.minFilter/" id=/"minFilter/" href=/"./index.html#api/en/textures/DataArrayTexture.minFilter/">minFilter</a>  : <span class=/"param/">number</span></h3>
		<p>
			How the texture is sampled when a texel covers less than one pixel. The
			default is <a class=/"links/" data-fragment=/"Textures/" title=/"Textures/" href=/"./index.html#api/en/constants/Textures/">THREE.NearestFilter</a>, which uses the value of
			the closest texel.<br><br>

			See the <a class=/"links/" data-fragment=/"Textures/" title=/"Textures/" href=/"./index.html#api/en/constants/Textures/">texture constants</a> page for details.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"DataArrayTexture.unpackAlignment/" target=/"_parent/" title=/"DataArrayTexture.unpackAlignment/" href=/"./index.html#api/en/textures/DataArrayTexture.unpackAlignment/">#</a> .<a class=/"links/" data-fragment=/"DataArrayTexture.unpackAlignment/" id=/"unpackAlignment/" href=/"./index.html#api/en/textures/DataArrayTexture.unpackAlignment/">unpackAlignment</a>  : <span class=/"param/">number</span></h3>
		<p>
			<code class=/"inline prettyprint/" translate=/"no/"><span class=/"lit/">1</span></code> by default. Specifies the alignment requirements for the start of each
			pixel row in memory. The allowable values are 1 (byte-alignment), 2 (rows
			aligned to even-numbered bytes), 4 (word-alignment), and 8 (rows start on
			double-word boundaries). See
			<a href=/"https://registry.khronos.org/OpenGL-Refpages/es3.0/html/glPixelStorei.xhtml/" target=/"_blank/">glPixelStorei</a> for more information.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"DataArrayTexture.wrapR/" target=/"_parent/" title=/"DataArrayTexture.wrapR/" href=/"./index.html#api/en/textures/DataArrayTexture.wrapR/">#</a> .<a class=/"links/" data-fragment=/"DataArrayTexture.wrapR/" id=/"wrapR/" href=/"./index.html#api/en/textures/DataArrayTexture.wrapR/">wrapR</a>  : <span class=/"param/">number</span></h3>
		<p>
			This defines how the texture is wrapped in the depth direction.<br>
			The default is <a class=/"links/" data-fragment=/"Textures/" title=/"Textures/" href=/"./index.html#api/en/constants/Textures/">THREE.ClampToEdgeWrapping</a>, where the edge
			is clamped to the outer edge texels. The other two choices are
			<a class=/"links/" data-fragment=/"Textures/" title=/"Textures/" href=/"./index.html#api/en/constants/Textures/">THREE.RepeatWrapping</a> and <a class=/"links/" data-fragment=/"Textures/" title=/"Textures/" href=/"./index.html#api/en/constants/Textures/">THREE.MirroredRepeatWrapping</a>. 
			See the <a class=/"links/" data-fragment=/"Textures/" title=/"Textures/" href=/"./index.html#api/en/constants/Textures/">texture constants</a>
			page for details.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"DataArrayTexture.layerUpdates/" target=/"_parent/" title=/"DataArrayTexture.layerUpdates/" href=/"./index.html#api/en/textures/DataArrayTexture.layerUpdates/">#</a> .<a class=/"links/" data-fragment=/"DataArrayTexture.layerUpdates/" id=/"layerUpdates/" href=/"./index.html#api/en/textures/DataArrayTexture.layerUpdates/">layerUpdates</a>  : <a class=/"param links/" data-fragment=/"Set/">Set</a></h3>
		<p>
			A set of all layers which need to be updated in the texture. See
			<a class=/"links/" data-fragment=/"DataArrayTexture.addLayerUpdate/" title=/"DataArrayTexture.addLayerUpdate/" href=/"./index.html#api/en/textures/DataArrayTexture.addLayerUpdate/">addLayerUpdate</a>.
		</p>

		<h2>Methods</h2>

		<h3><a class=/"permalink links/" data-fragment=/"DataArrayTexture.addLayerUpdate/" target=/"_parent/" title=/"DataArrayTexture.addLayerUpdate/" href=/"./index.html#api/en/textures/DataArrayTexture.addLayerUpdate/">#</a> .<a class=/"links/" data-fragment=/"DataArrayTexture.addLayerUpdate/" id=/"addLayerUpdate/" href=/"./index.html#api/en/textures/DataArrayTexture.addLayerUpdate/">addLayerUpdate</a> ( layerIndex ) : <a class=/"param links/" data-fragment=/"addLayerUpdate/">addLayerUpdate</a></h3>
		<p>
			Describes that a specific layer of the texture needs to be updated.
			Normally when <a class=/"links/" data-fragment=/"Texture.needsUpdate/" title=/"Texture.needsUpdate/" href=/"./index.html#api/en/textures/Texture.needsUpdate/">needsUpdate</a> is set to true, the
			entire compressed texture array is sent to the GPU. Marking specific
			layers will only transmit subsets of all mipmaps associated with a
			specific depth in the array which is often much more performant.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"DataArrayTexture.clearLayerUpdates/" target=/"_parent/" title=/"DataArrayTexture.clearLayerUpdates/" href=/"./index.html#api/en/textures/DataArrayTexture.clearLayerUpdates/">#</a> .<a class=/"links/" data-fragment=/"DataArrayTexture.clearLayerUpdates/" id=/"clearLayerUpdates/" href=/"./index.html#api/en/textures/DataArrayTexture.clearLayerUpdates/">clearLayerUpdates</a> () : <a class=/"param links/" data-fragment=/"clearLayerUpdates/">clearLayerUpdates</a></h3>
		<p>
			Resets the layer updates registry. See
			<a class=/"links/" data-fragment=/"DataArrayTexture.addLayerUpdate/" title=/"DataArrayTexture.addLayerUpdate/" href=/"./index.html#api/en/textures/DataArrayTexture.addLayerUpdate/">addLayerUpdate</a>.
		</p>


		<p>See the base <a class=/"links/" data-fragment=/"Texture/" title=/"Texture/" href=/"./index.html#api/en/textures/Texture/">Texture</a> class for common methods.</p>

		<h2>Source</h2>

		<p>
			<a href=/"https://github.com/mrdoob/three.js/blob/master/src/textures/DataArrayTexture.js/" target=/"_blank/">src/textures/DataArrayTexture.js</a>
		</p>
	

<div id=/"button/"><img src=/"../files/ic_mode_edit_black_24dp.svg/"></div></body></body></html>