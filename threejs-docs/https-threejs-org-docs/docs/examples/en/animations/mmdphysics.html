<!DOCTYPE html><html><head><title>MMDPhysics – three.js docs</title></head><body><body>
		<h1>MMDPhysics</h1>

		<p class=/"desc/"> A Physics handler for <a href=/"https://sites.google.com/view/evpvp//"><code class=/"inline prettyprint/" translate=/"no/"><span class=/"pln/">MMD</span></code></a> resources. <br><br>
		MMDPhysics calculates Physics for model loaded by <a class=/"links/" data-fragment=/"MMDLoader/" title=/"MMDLoader/" href=/"./index.html#examples/en/loaders/MMDLoader/">MMDLoader</a> with <a href=/"https://github.com/kripken/ammo.js//" target=/"_blank/">ammo.js</a> (Bullet-based JavaScript Physics engine).
		</p>

		<h2>Import</h2>

		<p>
			MMDPhysics is an add-on, and must be imported explicitly.
			See <a href=/"#manual/introduction/Installation/" target=/"_blank/">Installation / Addons</a>.
		</p>

		<code class=/" prettyprint/" translate=/"no/"><span class=/"kwd/">import</span><span class=/"pln/"> </span><span class=/"pun/">{</span><span class=/"pln/"> </span><span class=/"typ/">MMDPhysics</span><span class=/"pln/"> </span><span class=/"pun/">}</span><span class=/"pln/"> </span><span class=/"kwd/">from</span><span class=/"pln/"> </span><span class=/"str/">'three/addons/animation/MMDPhysics.js'</span><span class=/"pun/">;</span></code>

		<h2>Code Example</h2>

		<code class=/" prettyprint/" translate=/"no/"><span class=/"pln/">let physics</span><span class=/"pun/">;</span><span class=/"pln/">

</span><span class=/"com/">// Load MMD resources and instantiate MMDPhysics</span><span class=/"pln/">
</span><span class=/"kwd/">new</span><span class=/"pln/"> </span><span class=/"typ/">MMDLoader</span><span class=/"pun/">().</span><span class=/"pln/">load</span><span class=/"pun/">(</span><span class=/"pln/">
	</span><span class=/"str/">'models/mmd/miku.pmd'</span><span class=/"pun/">,</span><span class=/"pln/">
	</span><span class=/"kwd/">function</span><span class=/"pln/"> </span><span class=/"pun/">(</span><span class=/"pln/"> mesh </span><span class=/"pun/">)</span><span class=/"pln/"> </span><span class=/"pun/">{</span><span class=/"pln/">

		physics </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"kwd/">new</span><span class=/"pln/"> </span><span class=/"typ/">MMDPhysics</span><span class=/"pun/">(</span><span class=/"pln/"> mesh </span><span class=/"pun/">)</span><span class=/"pln/">
		scene</span><span class=/"pun/">.</span><span class=/"pln/">add</span><span class=/"pun/">(</span><span class=/"pln/"> mesh </span><span class=/"pun/">);</span><span class=/"pln/">

	</span><span class=/"pun/">}</span><span class=/"pln/">
</span><span class=/"pun/">);</span><span class=/"pln/">

</span><span class=/"kwd/">function</span><span class=/"pln/"> render</span><span class=/"pun/">()</span><span class=/"pln/"> </span><span class=/"pun/">{</span><span class=/"pln/">

	</span><span class=/"kwd/">const</span><span class=/"pln/"> delta </span><span class=/"pun/">=</span><span class=/"pln/"> clock</span><span class=/"pun/">.</span><span class=/"pln/">getDelta</span><span class=/"pun/">();</span><span class=/"pln/">
	animate</span><span class=/"pun/">(</span><span class=/"pln/"> delta </span><span class=/"pun/">);</span><span class=/"pln/">  </span><span class=/"com/">// update bones</span><span class=/"pln/">
	</span><span class=/"kwd/">if</span><span class=/"pln/"> </span><span class=/"pun/">(</span><span class=/"pln/"> physics </span><span class=/"pun/">!==</span><span class=/"pln/"> </span><span class=/"kwd/">undefined</span><span class=/"pln/"> </span><span class=/"pun/">)</span><span class=/"pln/"> physics</span><span class=/"pun/">.</span><span class=/"pln/">update</span><span class=/"pun/">(</span><span class=/"pln/"> delta </span><span class=/"pun/">);</span><span class=/"pln/">
	renderer</span><span class=/"pun/">.</span><span class=/"pln/">render</span><span class=/"pun/">(</span><span class=/"pln/"> scene</span><span class=/"pun/">,</span><span class=/"pln/"> camera </span><span class=/"pun/">);</span><span class=/"pln/">

</span><span class=/"pun/">}</span></code>

		<h2>Examples</h2>

		<p>
			<a href=/"../examples/#webgl_loader_mmd/" target=/"_blank/">webgl_loader_mmd</a><br>
			<a href=/"../examples/#webgl_loader_mmd_audio/" target=/"_blank/">webgl_loader_mmd_audio</a>
		</p>

		<h2>Constructor</h2>

		<h3>MMDPhysics( mesh : <a class=/"param links/" data-fragment=/"SkinnedMesh/" href=/"./index.html#api/en/objects/SkinnedMesh/">SkinnedMesh</a>, rigidBodyParams : <span class=/"param/">Array</span>, constraintParams : <span class=/"param/">Array</span>, params : <span class=/"param/">Object</span> )</h3>
		<p>
		<a class=/"links/" data-fragment=/"SkinnedMesh/" title=/"SkinnedMesh/" href=/"./index.html#api/en/objects/SkinnedMesh/">mesh</a> — <a class=/"links/" data-fragment=/"SkinnedMesh/" title=/"SkinnedMesh/" href=/"./index.html#api/en/objects/SkinnedMesh/">SkinnedMesh</a> for which MMDPhysics calculates Physics.<br>
		<a class=/"links/" data-fragment=/"Array/" title=/"Array/">rigidBodyParams</a> — An array of <a class=/"links/" data-fragment=/"Object/" title=/"Object/">Object</a> specifying Rigid Body parameters.<br>
		<a class=/"links/" data-fragment=/"Array/" title=/"Array/">constraintParams</a> — (optional) An array of <a class=/"links/" data-fragment=/"Object/" title=/"Object/">Object</a> specifying Constraint parameters.<br>
		<a class=/"links/" data-fragment=/"Object/" title=/"Object/">params</a> — (optional)<br>
		</p>
		<ul>
			<li><a class=/"links/" data-fragment=/"Number/" title=/"Number/">unitStep</a> - Default is 1 / 65.</li>
			<li><a class=/"links/" data-fragment=/"Integer/" title=/"Integer/">maxStepNum</a> - Default is 3.</li>
			<li><a class=/"links/" data-fragment=/"Vector3/" title=/"Vector3/" href=/"./index.html#api/en/math/Vector3/">gravity</a> - Default is ( 0, - 9.8 * 10, 0 )</li>
		</ul>
		<p>
		Creates a new MMDPhysics.
		</p>

		<h2>Properties</h2>

		<h3><a class=/"permalink links/" data-fragment=/"MMDPhysics.mesh/" target=/"_parent/" title=/"MMDPhysics.mesh/" href=/"./index.html#examples/en/animations/MMDPhysics.mesh/">#</a> .<a class=/"links/" data-fragment=/"MMDPhysics.mesh/" id=/"mesh/" href=/"./index.html#examples/en/animations/MMDPhysics.mesh/">mesh</a>  : <span class=/"param/">Array</span></h3>
		<p><a class=/"links/" data-fragment=/"SkinnedMesh/" title=/"SkinnedMesh/" href=/"./index.html#api/en/objects/SkinnedMesh/">SkinnedMesh</a> passed to the constructor.</p>

		<h2>Methods</h2>

		<h3><a class=/"permalink links/" data-fragment=/"MMDPhysics.createHelper/" target=/"_parent/" title=/"MMDPhysics.createHelper/" href=/"./index.html#examples/en/animations/MMDPhysics.createHelper/">#</a> .<a class=/"links/" data-fragment=/"MMDPhysics.createHelper/" id=/"createHelper/" href=/"./index.html#examples/en/animations/MMDPhysics.createHelper/">createHelper</a> () : <a class=/"param links/" data-fragment=/"MMDPhysicsHelper/">MMDPhysicsHelper</a></h3>
		<p>
		Return <a class=/"links/" data-fragment=/"MMDPhysicsHelper/" title=/"MMDPhysicsHelper/">MMDPhysicsHelper</a>. You can visualize Rigid bodies by adding the helper to scene.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"MMDPhysics.reset/" target=/"_parent/" title=/"MMDPhysics.reset/" href=/"./index.html#examples/en/animations/MMDPhysics.reset/">#</a> .<a class=/"links/" data-fragment=/"MMDPhysics.reset/" id=/"reset/" href=/"./index.html#examples/en/animations/MMDPhysics.reset/">reset</a> () : <span class=/"param/">this</span></h3>
		<p>
		Resets Rigid bodies transform to current bone's.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"MMDPhysics.setGravity/" target=/"_parent/" title=/"MMDPhysics.setGravity/" href=/"./index.html#examples/en/animations/MMDPhysics.setGravity/">#</a> .<a class=/"links/" data-fragment=/"MMDPhysics.setGravity/" id=/"setGravity/" href=/"./index.html#examples/en/animations/MMDPhysics.setGravity/">setGravity</a> ( gravity : <a class=/"param links/" data-fragment=/"Vector3/" href=/"./index.html#api/en/math/Vector3/">Vector3</a> ) : <span class=/"param/">this</span></h3>
		<p>
		<a class=/"links/" data-fragment=/"Vector3/" title=/"Vector3/" href=/"./index.html#api/en/math/Vector3/">gravity</a> — Direction and volume of gravity.
		</p>
		<p>
		Set gravity.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"MMDPhysics.update/" target=/"_parent/" title=/"MMDPhysics.update/" href=/"./index.html#examples/en/animations/MMDPhysics.update/">#</a> .<a class=/"links/" data-fragment=/"MMDPhysics.update/" id=/"update/" href=/"./index.html#examples/en/animations/MMDPhysics.update/">update</a> ( delta : <span class=/"param/">Number</span> ) : <span class=/"param/">this</span></h3>
		<p>
		<a class=/"links/" data-fragment=/"Number/" title=/"Number/">delta</a> — Time in second.
		</p>
		<p>
		Advance Physics calculation and updates bones.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"MMDPhysics.warmup/" target=/"_parent/" title=/"MMDPhysics.warmup/" href=/"./index.html#examples/en/animations/MMDPhysics.warmup/">#</a> .<a class=/"links/" data-fragment=/"MMDPhysics.warmup/" id=/"warmup/" href=/"./index.html#examples/en/animations/MMDPhysics.warmup/">warmup</a> ( cycles : <span class=/"param/">Integer</span> ) : <span class=/"param/">this</span></h3>
		<p>
		<a class=/"links/" data-fragment=/"Number/" title=/"Number/">delta</a> — Time in second.
		</p>
		<p>
		Warm up Rigid bodies. Calculates cycles steps.
		</p>

		<h2>Source</h2>

		<p>
			<a href=/"https://github.com/mrdoob/three.js/blob/master/examples/jsm/animation/MMDPhysics.js/" target=/"_blank/">examples/jsm/animation/MMDPhysics.js</a>
		</p>
	

<div id=/"button/"><img src=/"../files/ic_mode_edit_black_24dp.svg/"></div></body></body></html>