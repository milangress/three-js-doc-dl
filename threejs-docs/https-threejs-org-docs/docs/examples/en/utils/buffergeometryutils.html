<!DOCTYPE html><html><head><title>BufferGeometryUtils â€“ three.js docs</title></head><body><body>
		<h1>BufferGeometryUtils</h1>

		<p class=/"desc/">
			A class containing utility functions for <a class=/"links/" data-fragment=/"BufferGeometry/" title=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a> instances.
		</p>

		<h2>Import</h2>

		<p>
			BufferGeometryUtils is an add-on, and must be imported explicitly.
			See <a href=/"#manual/introduction/Installation/" target=/"_blank/">Installation / Addons</a>.
		</p>

		<code class=/" prettyprint/" translate=/"no/"><span class=/"kwd/">import</span><span class=/"pln/"> </span><span class=/"pun/">*</span><span class=/"pln/"> </span><span class=/"kwd/">as</span><span class=/"pln/"> </span><span class=/"typ/">BufferGeometryUtils</span><span class=/"pln/"> </span><span class=/"kwd/">from</span><span class=/"pln/"> </span><span class=/"str/">'three/addons/utils/BufferGeometryUtils.js'</span><span class=/"pun/">;</span></code>

		<h2>Methods</h2>

		<h3><a class=/"permalink links/" data-fragment=/"BufferGeometryUtils.computeMikkTSpaceTangents/" target=/"_parent/" title=/"BufferGeometryUtils.computeMikkTSpaceTangents/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.computeMikkTSpaceTangents/">#</a> .<a class=/"links/" data-fragment=/"BufferGeometryUtils.computeMikkTSpaceTangents/" id=/"computeMikkTSpaceTangents/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.computeMikkTSpaceTangents/">computeMikkTSpaceTangents</a> ( geometry : <a class=/"param links/" data-fragment=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a>, MikkTSpace : <span class=/"param/">Object</span>, negateSign : <span class=/"param/">Boolean</span> = true ) : <span class=/"param/">Object</span></h3>
		<ul>
			<li>geometry -- Instance of <a class=/"links/" data-fragment=/"BufferGeometry/" title=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a>.</li>
			<li>MikkTSpace -- Instance of <i>examples/jsm/libs/mikktspace.module.js</i>, or <i>mikktspace</i> npm package. Await <i>MikkTSpace.ready</i> before use.
			</li><li>negateSign -- Whether to negate the sign component (.w) of each tangent. Required for normal map conventions in some formats, including glTF.</li>
		</ul>

		<p>
		Computes vertex tangents using the <a href=/"http://www.mikktspace.com//" target=/"_blank/">MikkTSpace</a> algorithm.
		MikkTSpace generates the same tangents consistently, and is used in most modelling tools and
		normal map bakers. Use MikkTSpace for materials with normal maps, because inconsistent
		tangents may lead to subtle visual issues in the normal map, particularly around mirrored
		UV seams.
		</p>

		<p>
		In comparison to this method, <a class=/"links/" data-fragment=/"BufferGeometry.computeTangents/" title=/"BufferGeometry.computeTangents/" href=/"./index.html#api/en/core/BufferGeometry.computeTangents/">BufferGeometry.computeTangents</a> (a
		custom algorithm) generates tangents that probably will not match the tangents
		in other software. The custom algorithm is sufficient for general use with a
		<a class=/"links/" data-fragment=/"ShaderMaterial/" title=/"ShaderMaterial/" href=/"./index.html#api/en/materials/ShaderMaterial/">ShaderMaterial</a>, and may be faster than MikkTSpace.
		</p>

		<p>
		Returns the original <a class=/"links/" data-fragment=/"BufferGeometry/" title=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a>. Indexed geometries will be de-indexed.
		Requires position, normal, and uv attributes.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"BufferGeometryUtils.computeMorphedAttributes/" target=/"_parent/" title=/"BufferGeometryUtils.computeMorphedAttributes/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.computeMorphedAttributes/">#</a> .<a class=/"links/" data-fragment=/"BufferGeometryUtils.computeMorphedAttributes/" id=/"computeMorphedAttributes/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.computeMorphedAttributes/">computeMorphedAttributes</a> ( [param:Mesh | Line | Points object] ) : <span class=/"param/">Object</span></h3>
		<p>
		object -- Instance of <a class=/"links/" data-fragment=/"Mesh/" title=/"Mesh/" href=/"./index.html#api/en/objects/Mesh/">Mesh</a> | <a class=/"links/" data-fragment=/"Line/" title=/"Line/" href=/"./index.html#api/en/objects/Line/">Line</a> | <a class=/"links/" data-fragment=/"Points/" title=/"Points/" href=/"./index.html#api/en/objects/Points/">Points</a>.<br><br>

		Returns the current attributes (Position and Normal) of a morphed/skinned <a class=/"links/" data-fragment=/"Object3D/" title=/"Object3D/" href=/"./index.html#api/en/core/Object3D/">Object3D</a> whose geometry is a
		<a class=/"links/" data-fragment=/"BufferGeometry/" title=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a>, together with the original ones: An Object with 4 properties:
		<code class=/"inline prettyprint/" translate=/"no/"><span class=/"pln/">positionAttribute</span></code>, <code class=/"inline prettyprint/" translate=/"no/"><span class=/"pln/">normalAttribute</span></code>, <code class=/"inline prettyprint/" translate=/"no/"><span class=/"pln/">morphedPositionAttribute</span></code> and <code class=/"inline prettyprint/" translate=/"no/"><span class=/"pln/">morphedNormalAttribute</span></code>.

		Helpful for Raytracing or Decals (i.e. a <a class=/"links/" data-fragment=/"DecalGeometry/" title=/"DecalGeometry/" href=/"./index.html#examples/en/geometries/DecalGeometry/">DecalGeometry</a> applied to a morphed Object
		with a <a class=/"links/" data-fragment=/"BufferGeometry/" title=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a> will use the original BufferGeometry, not the morphed/skinned one,
		generating an incorrect result.
		Using this function to create a shadow Object3D the DecalGeometry can be correctly generated).
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"BufferGeometryUtils.estimateBytesUsed/" target=/"_parent/" title=/"BufferGeometryUtils.estimateBytesUsed/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.estimateBytesUsed/">#</a> .<a class=/"links/" data-fragment=/"BufferGeometryUtils.estimateBytesUsed/" id=/"estimateBytesUsed/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.estimateBytesUsed/">estimateBytesUsed</a> ( geometry : <a class=/"param links/" data-fragment=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a> ) : <span class=/"param/">Number</span></h3>
		<p>
		geometry -- Instance of <a class=/"links/" data-fragment=/"BufferGeometry/" title=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a> to estimate the memory use of.<br><br>

		Returns the amount of bytes used by all attributes to represent the geometry.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"BufferGeometryUtils.interleaveAttributes/" target=/"_parent/" title=/"BufferGeometryUtils.interleaveAttributes/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.interleaveAttributes/">#</a> .<a class=/"links/" data-fragment=/"BufferGeometryUtils.interleaveAttributes/" id=/"interleaveAttributes/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.interleaveAttributes/">interleaveAttributes</a> ( attributes : <span class=/"param/">Array</span> ) : <a class=/"param links/" data-fragment=/"InterleavedBufferAttribute/" href=/"./index.html#api/en/core/InterleavedBufferAttribute/">InterleavedBufferAttribute</a></h3>
		<p>
		attributes -- Array of <a class=/"links/" data-fragment=/"BufferAttribute/" title=/"BufferAttribute/" href=/"./index.html#api/en/core/BufferAttribute/">BufferAttribute</a> instances.<br><br>

		Interleaves a set of attributes and returns a new array of corresponding attributes that share
		a single InterleavedBuffer instance. All attributes must have compatible types. If merge does not
		succeed, the method returns null.

		</p>

		<h3><a class=/"permalink links/" data-fragment=/"BufferGeometryUtils.mergeAttributes/" target=/"_parent/" title=/"BufferGeometryUtils.mergeAttributes/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.mergeAttributes/">#</a> .<a class=/"links/" data-fragment=/"BufferGeometryUtils.mergeAttributes/" id=/"mergeAttributes/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.mergeAttributes/">mergeAttributes</a> ( attributes : <span class=/"param/">Array</span> ) : <a class=/"param links/" data-fragment=/"BufferAttribute/" href=/"./index.html#api/en/core/BufferAttribute/">BufferAttribute</a></h3>
		<p>
		attributes -- Array of <a class=/"links/" data-fragment=/"BufferAttribute/" title=/"BufferAttribute/" href=/"./index.html#api/en/core/BufferAttribute/">BufferAttribute</a> instances.<br><br>

		Merges a set of attributes into a single instance. All attributes must have compatible properties
		and types, and <a class=/"links/" data-fragment=/"InterleavedBufferAttribute/" title=/"InterleavedBufferAttribute/" href=/"./index.html#api/en/core/InterleavedBufferAttribute/">InterleavedBufferAttributes</a> are not supported. If merge does not succeed, the method
		returns null.

		</p>

		<h3><a class=/"permalink links/" data-fragment=/"BufferGeometryUtils.mergeGeometries/" target=/"_parent/" title=/"BufferGeometryUtils.mergeGeometries/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.mergeGeometries/">#</a> .<a class=/"links/" data-fragment=/"BufferGeometryUtils.mergeGeometries/" id=/"mergeGeometries/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.mergeGeometries/">mergeGeometries</a> ( geometries : <span class=/"param/">Array</span>, useGroups : <span class=/"param/">Boolean</span> ) : <a class=/"param links/" data-fragment=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a></h3>
		<p>
		geometries -- Array of <a class=/"links/" data-fragment=/"BufferGeometry/" title=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a> instances.<br>
		useGroups -- Whether groups should be generated for the merged geometry or not.<br><br>

		Merges a set of geometries into a single instance. All geometries must have compatible attributes.
		If merge does not succeed, the method returns null.

		</p>

		<h3><a class=/"permalink links/" data-fragment=/"BufferGeometryUtils.mergeGroups/" target=/"_parent/" title=/"BufferGeometryUtils.mergeGroups/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.mergeGroups/">#</a> .<a class=/"links/" data-fragment=/"BufferGeometryUtils.mergeGroups/" id=/"mergeGroups/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.mergeGroups/">mergeGroups</a> ( geometry : <a class=/"param links/" data-fragment=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a> ) : <a class=/"param links/" data-fragment=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a></h3>
		<p>
		geometry -- Instance of <a class=/"links/" data-fragment=/"BufferGeometry/" title=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a> to merge the groups of.<br><br>

		Merges the <a class=/"links/" data-fragment=/"BufferGeometry.groups/" title=/"BufferGeometry.groups/" href=/"./index.html#api/en/core/BufferGeometry.groups/">groups</a> for the given geometry.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"BufferGeometryUtils.mergeVertices/" target=/"_parent/" title=/"BufferGeometryUtils.mergeVertices/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.mergeVertices/">#</a> .<a class=/"links/" data-fragment=/"BufferGeometryUtils.mergeVertices/" id=/"mergeVertices/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.mergeVertices/">mergeVertices</a> ( geometry : <a class=/"param links/" data-fragment=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a>, tolerance : <span class=/"param/">Number</span> ) : <a class=/"param links/" data-fragment=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a></h3>
		<p>
		geometry -- Instance of <a class=/"links/" data-fragment=/"BufferGeometry/" title=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a> to merge the vertices of.<br>
		tolerance -- The maximum allowable difference between vertex attributes to merge. Defaults to 1e-4.<br><br>

		Returns a new <a class=/"links/" data-fragment=/"BufferGeometry/" title=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a> with vertices for which all similar vertex attributes
		(within tolerance) are merged.

		</p>

		<h3><a class=/"permalink links/" data-fragment=/"BufferGeometryUtils.toCreasedNormals/" target=/"_parent/" title=/"BufferGeometryUtils.toCreasedNormals/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.toCreasedNormals/">#</a> .<a class=/"links/" data-fragment=/"BufferGeometryUtils.toCreasedNormals/" id=/"toCreasedNormals/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.toCreasedNormals/">toCreasedNormals</a> ( geometry : <a class=/"param links/" data-fragment=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a>, creaseAngle : <span class=/"param/">Number</span> ) : <a class=/"param links/" data-fragment=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a></h3>
		<ul>
			<li>geometry -- The input geometry.</li>
			<li>creaseAngle -- The crease angle in radians.</li>
		</ul>

		<p>
		Modifies the supplied geometry if it is non-indexed, otherwise creates a new,
		non-indexed geometry.
		</p>

		<p>
		Returns the geometry with smooth normals everywhere except faces
		that meet at an angle greater than the crease angle.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"BufferGeometryUtils.toTrianglesDrawMode/" target=/"_parent/" title=/"BufferGeometryUtils.toTrianglesDrawMode/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.toTrianglesDrawMode/">#</a> .<a class=/"links/" data-fragment=/"BufferGeometryUtils.toTrianglesDrawMode/" id=/"toTrianglesDrawMode/" href=/"./index.html#examples/en/utils/BufferGeometryUtils.toTrianglesDrawMode/">toTrianglesDrawMode</a> ( geometry : <a class=/"param links/" data-fragment=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a>, drawMode : <a class=/"param links/" data-fragment=/"TrianglesDrawMode/">TrianglesDrawMode</a> ) : <a class=/"param links/" data-fragment=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a></h3>
		<p>
		geometry -- Instance of <a class=/"links/" data-fragment=/"BufferGeometry/" title=/"BufferGeometry/" href=/"./index.html#api/en/core/BufferGeometry/">BufferGeometry</a>.<br>
		drawMode -- The draw mode of the given geometry. Valid inputs are <code class=/"inline prettyprint/" translate=/"no/"><span class=/"pln/">THREE</span><span class=/"pun/">.</span><span class=/"typ/">TriangleStripDrawMode</span></code> and <code class=/"inline prettyprint/" translate=/"no/"><span class=/"pln/">THREE</span><span class=/"pun/">.</span><span class=/"typ/">TriangleFanDrawMode</span></code>.<br><br>

		Returns a new indexed geometry based on <code class=/"inline prettyprint/" translate=/"no/"><span class=/"pln/">THREE</span><span class=/"pun/">.</span><span class=/"typ/">TrianglesDrawMode</span></code> draw mode. This mode corresponds to the <code class=/"inline prettyprint/" translate=/"no/"><span class=/"pln/">gl</span><span class=/"pun/">.</span><span class=/"pln/">TRIANGLES</span></code> WebGL primitive.
		</p>

		<h2>Source</h2>

		<p>
			<a href=/"https://github.com/mrdoob/three.js/blob/master/examples/jsm/utils/BufferGeometryUtils.js/" target=/"_blank/">examples/jsm/utils/BufferGeometryUtils.js</a>
		</p>
	

<div id=/"button/"><img src=/"../files/ic_mode_edit_black_24dp.svg/"></div></body></body></html>