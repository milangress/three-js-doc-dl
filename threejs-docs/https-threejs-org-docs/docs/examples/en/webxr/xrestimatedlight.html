<!DOCTYPE html><html><head><title>XREstimatedLight – three.js docs</title></head><body><body>
		<a class=/"links/" data-fragment=/"Group/" title=/"Group/" href=/"./index.html#api/en/objects/Group/">Group</a> →

		<h1>XREstimatedLight</h1>

		<p class=/"desc/">
			XREstimatedLight uses WebXR's light estimation to create
			a light probe, a directional light, and (optionally) an environment map
			that model the user's real-world environment and lighting.<br>
			As WebXR updates the light and environment estimation, XREstimatedLight
			automatically updates the light probe, directional light, and environment map.<br><br>

			It's important to specify <code class=/"inline prettyprint/" translate=/"no/"><span class=/"pln/">light</span><span class=/"pun/">-</span><span class=/"pln/">estimation</span></code> as an optional or required
			feature when creating the WebXR session, otherwise the light estimation
			can't work.<br><br> 

			See <a href=/"https://developer.mozilla.org/en-US/docs/Web/API/XRLightProbe#browser_compatibility/">here</a>
			for browser compatibility information, as this is still an experimental feature in WebXR.<br><br>


			To use this, as with all files in the /examples directory, you will have to
			include the file separately in your HTML.
		</p>

		<h2>Import</h2>

		<p>
			XREstimatedLight is an add-on, and must be imported explicitly.
			See <a href=/"#manual/introduction/Installation/" target=/"_blank/">Installation / Addons</a>.
		</p>

		<code class=/" prettyprint/" translate=/"no/"><span class=/"kwd/">import</span><span class=/"pln/"> </span><span class=/"pun/">{</span><span class=/"pln/"> </span><span class=/"typ/">XREstimatedLight</span><span class=/"pln/"> </span><span class=/"pun/">}</span><span class=/"pln/"> </span><span class=/"kwd/">from</span><span class=/"pln/"> </span><span class=/"str/">'three/addons/webxr/XREstimatedLight.js'</span><span class=/"pun/">;</span></code>

		<h2>Code Example</h2>

		<code class=/" prettyprint/" translate=/"no/"><span class=/"pln/">renderer</span><span class=/"pun/">.</span><span class=/"pln/">xr</span><span class=/"pun/">.</span><span class=/"pln/">enabled </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"kwd/">true</span><span class=/"pun/">;</span><span class=/"pln/">

</span><span class=/"com/">// Don't add the XREstimatedLight to the scene initially.</span><span class=/"pln/">
</span><span class=/"com/">// It doesn't have any estimated lighting values until an AR session starts.</span><span class=/"pln/">
</span><span class=/"kwd/">const</span><span class=/"pln/"> xrLight </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"kwd/">new</span><span class=/"pln/"> </span><span class=/"typ/">XREstimatedLight</span><span class=/"pun/">(</span><span class=/"pln/"> renderer </span><span class=/"pun/">);</span><span class=/"pln/">

xrLight</span><span class=/"pun/">.</span><span class=/"pln/">addEventListener</span><span class=/"pun/">(</span><span class=/"pln/"> </span><span class=/"str/">'estimationstart'</span><span class=/"pln/"> </span><span class=/"pun/">,</span><span class=/"pln/"> </span><span class=/"pun/">()</span><span class=/"pln/"> </span><span class=/"pun/">=&gt;</span><span class=/"pln/"> </span><span class=/"pun/">{</span><span class=/"pln/">

	scene</span><span class=/"pun/">.</span><span class=/"pln/">add</span><span class=/"pun/">(</span><span class=/"pln/"> xrLight </span><span class=/"pun/">);</span><span class=/"pln/">

	</span><span class=/"kwd/">if</span><span class=/"pln/"> </span><span class=/"pun/">(</span><span class=/"pln/"> xrLight</span><span class=/"pun/">.</span><span class=/"pln/">environment </span><span class=/"pun/">)</span><span class=/"pln/"> </span><span class=/"pun/">{</span><span class=/"pln/">

		scene</span><span class=/"pun/">.</span><span class=/"pln/">environment </span><span class=/"pun/">=</span><span class=/"pln/"> xrLight</span><span class=/"pun/">.</span><span class=/"pln/">environment</span><span class=/"pun/">;</span><span class=/"pln/">

	</span><span class=/"pun/">}</span><span class=/"pln/">

</span><span class=/"pun/">}</span><span class=/"pln/"> </span><span class=/"pun/">);</span><span class=/"pln/">

xrLight</span><span class=/"pun/">.</span><span class=/"pln/">addEventListener</span><span class=/"pun/">(</span><span class=/"pln/"> </span><span class=/"str/">'estimationend'</span><span class=/"pun/">,</span><span class=/"pln/"> </span><span class=/"pun/">()</span><span class=/"pln/"> </span><span class=/"pun/">=&gt;</span><span class=/"pln/"> </span><span class=/"pun/">{</span><span class=/"pln/">

	scene</span><span class=/"pun/">.</span><span class=/"pln/">remove</span><span class=/"pun/">(</span><span class=/"pln/"> xrLight </span><span class=/"pun/">);</span><span class=/"pln/">

	scene</span><span class=/"pun/">.</span><span class=/"pln/">environment </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"kwd/">null</span><span class=/"pun/">;</span><span class=/"pln/">

</span><span class=/"pun/">}</span><span class=/"pln/"> </span><span class=/"pun/">);</span><span class=/"pln/">

</span><span class=/"com/">// In order for lighting estimation to work, 'light-estimation' must be included as either</span><span class=/"pln/">
</span><span class=/"com/">// an optional or required feature.</span><span class=/"pln/">
document</span><span class=/"pun/">.</span><span class=/"pln/">body</span><span class=/"pun/">.</span><span class=/"pln/">appendChild</span><span class=/"pun/">(</span><span class=/"pln/"> </span><span class=/"typ/">XRButton</span><span class=/"pun/">.</span><span class=/"pln/">createButton</span><span class=/"pun/">(</span><span class=/"pln/"> renderer</span><span class=/"pun/">,</span><span class=/"pln/"> </span><span class=/"pun/">{</span><span class=/"pln/">
	optionalFeatures</span><span class=/"pun/">:</span><span class=/"pln/"> </span><span class=/"pun/">[</span><span class=/"pln/"> </span><span class=/"str/">'light-estimation'</span><span class=/"pln/"> </span><span class=/"pun/">]</span><span class=/"pln/">
</span><span class=/"pun/">}</span><span class=/"pln/"> </span><span class=/"pun/">)</span><span class=/"pln/"> </span><span class=/"pun/">);</span></code>

		<h2>Examples</h2>

		<p><a href=/"../examples/#webxr_ar_lighting/" target=/"_blank/">webxr / light estimation</a></p>

		<h2>Constructor</h2>

		<h3>XREstimatedLight( renderer : <a class=/"param links/" data-fragment=/"WebGLRenderer/" href=/"./index.html#api/en/renderers/WebGLRenderer/">WebGLRenderer</a>, environmentEstimation : <span class=/"param/">Boolean</span> )</h3>
		<p>
			<a class=/"links/" data-fragment=/"WebGLRenderer/" title=/"WebGLRenderer/" href=/"./index.html#api/en/renderers/WebGLRenderer/">renderer</a>: (required) The renderer used to render the Scene. Mainly used to interact with WebXRManager.<br><br>

			environmentEstimation: If <code class=/"inline prettyprint/" translate=/"no/"><span class=/"kwd/">true</span></code>, use WebXR to estimate an environment map.
		</p>

		<h2>Events</h2>

		<h3>estimationstart</h3>
		<p>
			Fires when the estimated lighting values start being updated.
		</p>

		<h3>estimationend</h3>
		<p>
			Fires when the estimated lighting values stop being updated.
		</p>

		<h2>Properties</h2>

		<h3><a class=/"permalink links/" data-fragment=/"XREstimatedLight.environment/" target=/"_parent/" title=/"XREstimatedLight.environment/" href=/"./index.html#examples/en/webxr/XREstimatedLight.environment/">#</a> .<a class=/"links/" data-fragment=/"XREstimatedLight.environment/" id=/"environment/" href=/"./index.html#examples/en/webxr/XREstimatedLight.environment/">environment</a>  : <a class=/"param links/" data-fragment=/"Texture/" href=/"./index.html#api/en/textures/Texture/">Texture</a></h3>
		<p>
			The environment map estimated by WebXR. This is only available if environmentEstimation is <code class=/"inline prettyprint/" translate=/"no/"><span class=/"kwd/">true</span></code>.<br><br>

			It can be used as the <a class=/"links/" data-fragment=/"Scene.environment/" title=/"Scene.environment/" href=/"./index.html#api/en/scenes/Scene.environment/">Scene.environment</a>, for
			<a class=/"links/" data-fragment=/"MeshStandardMaterial.envMap/" title=/"MeshStandardMaterial.envMap/" href=/"./index.html#api/en/materials/MeshStandardMaterial.envMap/">MeshStandardMaterial.envMap</a>, or
			as the <a class=/"links/" data-fragment=/"Scene.background/" title=/"Scene.background/" href=/"./index.html#api/en/scenes/Scene.background/">Scene.background</a>.
		</p>

		<h2>Source</h2>

		<p>
			<a href=/"https://github.com/mrdoob/three.js/blob/master/examples/jsm/webxr/XREstimatedLight.js/" target=/"_blank/">examples/jsm/webxr/XREstimatedLight.js</a>
		</p>
	

<div id=/"button/"><img src=/"../files/ic_mode_edit_black_24dp.svg/"></div></body></body></html>