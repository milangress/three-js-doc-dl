<!DOCTYPE html><html><head><title>Timer â€“ three.js docs</title></head><body><body>

		<h1>Timer</h1>

		<p class=/"desc/">
			This class is an alternative to <a class=/"links/" data-fragment=/"Clock/" title=/"Clock/" href=/"./index.html#api/en/core/Clock/">Clock</a> with a different API design and behavior.
			The goal is to avoid the conceptual flaws that became apparent in <a class=/"links/" data-fragment=/"Clock/" title=/"Clock/" href=/"./index.html#api/en/core/Clock/">Clock</a> over time.

			</p><ul>
				<li>Timer has an <a class=/"links/" data-fragment=/"Timer.update/" title=/"Timer.update/" href=/"./index.html#examples/en/misc/Timer.update/">.update</a>() method that updates its internal state. That makes it possible to call <a class=/"links/" data-fragment=/"Timer.getDelta/" title=/"Timer.getDelta/" href=/"./index.html#examples/en/misc/Timer.getDelta/">.getDelta</a>() and <a class=/"links/" data-fragment=/"Timer.getElapsed/" title=/"Timer.getElapsed/" href=/"./index.html#examples/en/misc/Timer.getElapsed/">.getElapsed</a>() multiple times per simulation step without getting different values.</li>
				<li>The class uses the Page Visibility API to avoid large time delta values when the app is inactive (e.g. tab switched or browser hidden).</li>
			</ul>
		<p></p>

		<h2>Import</h2>

		<p>
			Timer is an add-on, and must be imported explicitly.
			See <a href=/"#manual/introduction/Installation/" target=/"_blank/">Installation / Addons</a>.
		</p>

		<code class=/" prettyprint/" translate=/"no/"><span class=/"kwd/">import</span><span class=/"pln/"> </span><span class=/"pun/">{</span><span class=/"pln/"> </span><span class=/"typ/">Timer</span><span class=/"pln/"> </span><span class=/"pun/">}</span><span class=/"pln/"> </span><span class=/"kwd/">from</span><span class=/"pln/"> </span><span class=/"str/">'three/addons/misc/Timer.js'</span><span class=/"pun/">;</span></code>

		<h2>Code Example</h2>

		<code class=/" prettyprint/" translate=/"no/"><span class=/"kwd/">const</span><span class=/"pln/"> timer </span><span class=/"pun/">=</span><span class=/"pln/"> </span><span class=/"kwd/">new</span><span class=/"pln/"> </span><span class=/"typ/">Timer</span><span class=/"pun/">();</span><span class=/"pln/">

</span><span class=/"kwd/">function</span><span class=/"pln/"> animate</span><span class=/"pun/">(</span><span class=/"pln/"> timestamp </span><span class=/"pun/">)</span><span class=/"pln/"> </span><span class=/"pun/">{</span><span class=/"pln/">

	requestAnimationFrame</span><span class=/"pun/">(</span><span class=/"pln/"> animate </span><span class=/"pun/">);</span><span class=/"pln/">

	</span><span class=/"com/">// timestamp is optional</span><span class=/"pln/">
	timer</span><span class=/"pun/">.</span><span class=/"pln/">update</span><span class=/"pun/">(</span><span class=/"pln/"> timestamp </span><span class=/"pun/">);</span><span class=/"pln/">

	</span><span class=/"kwd/">const</span><span class=/"pln/"> delta </span><span class=/"pun/">=</span><span class=/"pln/"> timer</span><span class=/"pun/">.</span><span class=/"pln/">getDelta</span><span class=/"pun/">();</span><span class=/"pln/">

	</span><span class=/"com/">// do something with delta</span><span class=/"pln/">

	renderer</span><span class=/"pun/">.</span><span class=/"pln/">render</span><span class=/"pun/">(</span><span class=/"pln/"> scene</span><span class=/"pun/">,</span><span class=/"pln/"> camera </span><span class=/"pun/">);</span><span class=/"pln/">

</span><span class=/"pun/">}</span></code>

		<h2>Examples</h2>

		<p>
			<a href=/"../examples/#webgl_morphtargets_sphere/" target=/"_blank/">WebGL / morphtargets / sphere</a>
		</p>

		<h2>Constructor</h2>

		<h3>Timer()</h3>

		<h2>Methods</h2>

		<h3><a class=/"permalink links/" data-fragment=/"Timer.getDelta/" target=/"_parent/" title=/"Timer.getDelta/" href=/"./index.html#examples/en/misc/Timer.getDelta/">#</a> .<a class=/"links/" data-fragment=/"Timer.getDelta/" id=/"getDelta/" href=/"./index.html#examples/en/misc/Timer.getDelta/">getDelta</a> () : <span class=/"param/">Number</span></h3>
		<p>
			Returns the time delta in seconds.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"Timer.getElapsed/" target=/"_parent/" title=/"Timer.getElapsed/" href=/"./index.html#examples/en/misc/Timer.getElapsed/">#</a> .<a class=/"links/" data-fragment=/"Timer.getElapsed/" id=/"getElapsed/" href=/"./index.html#examples/en/misc/Timer.getElapsed/">getElapsed</a> () : <span class=/"param/">Number</span></h3>
		<p>
			Returns the elapsed time in seconds.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"Timer.setTimescale/" target=/"_parent/" title=/"Timer.setTimescale/" href=/"./index.html#examples/en/misc/Timer.setTimescale/">#</a> .<a class=/"links/" data-fragment=/"Timer.setTimescale/" id=/"setTimescale/" href=/"./index.html#examples/en/misc/Timer.setTimescale/">setTimescale</a> ( timescale : <span class=/"param/">Number</span> ) : <span class=/"param/">this</span></h3>
		<p>
			Sets a time scale that scales the time delta in <a class=/"links/" data-fragment=/"Timer.update/" title=/"Timer.update/" href=/"./index.html#examples/en/misc/Timer.update/">.update</a>().
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"Timer.reset/" target=/"_parent/" title=/"Timer.reset/" href=/"./index.html#examples/en/misc/Timer.reset/">#</a> .<a class=/"links/" data-fragment=/"Timer.reset/" id=/"reset/" href=/"./index.html#examples/en/misc/Timer.reset/">reset</a> () : <span class=/"param/">this</span></h3>
		<p>
			Resets the time computation for the current simulation step.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"Timer.dispose/" target=/"_parent/" title=/"Timer.dispose/" href=/"./index.html#examples/en/misc/Timer.dispose/">#</a> .<a class=/"links/" data-fragment=/"Timer.dispose/" id=/"dispose/" href=/"./index.html#examples/en/misc/Timer.dispose/">dispose</a> () : <span class=/"param/">this</span></h3>
		<p>
			Can be used to free all internal resources. Usually called when the timer instance isn't required anymore.
		</p>

		<h3><a class=/"permalink links/" data-fragment=/"Timer.update/" target=/"_parent/" title=/"Timer.update/" href=/"./index.html#examples/en/misc/Timer.update/">#</a> .<a class=/"links/" data-fragment=/"Timer.update/" id=/"update/" href=/"./index.html#examples/en/misc/Timer.update/">update</a> ( timestamp : <span class=/"param/">Number</span> ) : <span class=/"param/">this</span></h3>
		<p>
			timestamp -- (optional) The current time in milliseconds. Can be obtained from the
			<a href=/"https://developer.mozilla.org/en-US/docs/Web/API/window/requestAnimationFrame/" target=/"_blank/">requestAnimationFrame</a>
			callback argument. If not provided, the current time will be determined with
			<a href=/"https://developer.mozilla.org/en-US/docs/Web/API/Performance/now/" target=/"_blank/">performance.now</a>.<br><br>

			Updates the internal state of the timer. This method should be called once per simulation step
			and before you perform queries against the timer (e.g. via <a class=/"links/" data-fragment=/"Timer.getDelta/" title=/"Timer.getDelta/" href=/"./index.html#examples/en/misc/Timer.getDelta/">.getDelta</a>()).
		</p>

		<h2>Source</h2>

		<p>
			<a href=/"https://github.com/mrdoob/three.js/blob/master/examples/jsm/misc/Timer.js/" target=/"_blank/">examples/jsm/misc/Timer.js</a>
		</p>
	

<div id=/"button/"><img src=/"../files/ic_mode_edit_black_24dp.svg/"></div></body></body></html>